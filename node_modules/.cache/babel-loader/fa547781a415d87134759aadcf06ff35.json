{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2'; // 自定义Shape 部分\n\nregisterShape('point', 'gauge-indicator', {\n  draw: function (cfg, container) {\n    // 使用 customInfo 传递参数\n    var _a = cfg.customInfo,\n        indicator = _a.indicator,\n        defaultColor = _a.defaultColor;\n    var _b = indicator,\n        pointer = _b.pointer,\n        pin = _b.pin;\n    var group = container.addGroup(); // 获取极坐标系下画布中心点\n\n    var center = this.parsePoint({\n      x: 0,\n      y: 0\n    }); // 绘制指针\n\n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: __assign({\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor\n        }, pointer.style)\n      });\n    } // pin\n\n\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: __assign({\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor\n        }, pin.style)\n      });\n    }\n\n    return group;\n  }\n});","map":{"version":3,"mappings":";AAAA,SAASA,aAAT,QAAqC,UAArC,C,CAGA;;AACAA,aAAa,CAAC,OAAD,EAAU,iBAAV,EAA6B;EACxCC,IAAI,EAAJ,UAAKC,GAAL,EAA2BC,SAA3B,EAAoC;IAClC;IACM,SAA8BD,GAAG,CAACE,UAAlC;IAAA,IAAEC,SAAS,eAAX;IAAA,IAAaC,YAAY,kBAAzB;IACA,SAAmBD,SAAnB;IAAA,IAAEE,OAAO,aAAT;IAAA,IAAWC,GAAG,SAAd;IAEN,IAAMC,KAAK,GAAGN,SAAS,CAACO,QAAV,EAAd,CALkC,CAMlC;;IACA,IAAMC,MAAM,GAAG,KAAKC,UAAL,CAAgB;MAAEC,CAAC,EAAE,CAAL;MAAQC,CAAC,EAAE;IAAX,CAAhB,CAAf,CAPkC,CAQlC;;IACA,IAAIP,OAAJ,EAAa;MACX;MACAE,KAAK,CAACM,QAAN,CAAe,MAAf,EAAuB;QACrBC,IAAI,EAAE,SADe;QAErBC,KAAK;UACHC,EAAE,EAAEP,MAAM,CAACE,CADR;UAEHM,EAAE,EAAER,MAAM,CAACG,CAFR;UAGHM,EAAE,EAAElB,GAAG,CAACW,CAHL;UAIHQ,EAAE,EAAEnB,GAAG,CAACY,CAJL;UAKHQ,MAAM,EAAEhB;QALL,GAMAC,OAAO,CAACgB,KANR;MAFgB,CAAvB;IAWD,CAtBiC,CAwBlC;;;IACA,IAAIf,GAAJ,EAAS;MACPC,KAAK,CAACM,QAAN,CAAe,QAAf,EAAyB;QACvBC,IAAI,EAAE,KADiB;QAEvBC,KAAK;UACHJ,CAAC,EAAEF,MAAM,CAACE,CADP;UAEHC,CAAC,EAAEH,MAAM,CAACG,CAFP;UAGHQ,MAAM,EAAEhB;QAHL,GAIAE,GAAG,CAACe,KAJJ;MAFkB,CAAzB;IASD;;IACD,OAAOd,KAAP;EACD;AAtCuC,CAA7B,CAAb","names":["registerShape","draw","cfg","container","customInfo","indicator","defaultColor","pointer","pin","group","addGroup","center","parsePoint","x","y","addShape","name","attrs","x1","y1","x2","y2","stroke","style"],"sourceRoot":"","sources":["../../../../src/plots/gauge/shapes/indicator.ts"],"sourcesContent":["import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// 自定义Shape 部分\nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    // 使用 customInfo 传递参数\n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // 获取极坐标系下画布中心点\n    const center = this.parsePoint({ x: 0, y: 0 });\n    // 绘制指针\n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n"]},"metadata":{},"sourceType":"module"}