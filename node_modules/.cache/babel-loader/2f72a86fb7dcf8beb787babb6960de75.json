{"ast":null,"code":"import { isNil } from '@antv/util';\n/**\n * @ignore\n * 单个 shape 动画\n * 渐现动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\n\nexport function fadeIn(shape, animateCfg, cfg) {\n  var endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity')\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0\n  });\n  shape.animate(endState, animateCfg);\n}\n/**\n * @ignore\n * 单个 shape 动画\n * 渐隐动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\n\nexport function fadeOut(shape, animateCfg, cfg) {\n  var endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0\n  };\n  var easing = animateCfg.easing,\n      duration = animateCfg.duration,\n      delay = animateCfg.delay;\n  shape.animate(endState, duration, easing, function () {\n    shape.remove(true);\n  }, delay);\n}","map":{"version":3,"mappings":"AAAA,SAASA,KAAT,QAAsB,YAAtB;AAKA;;;;;;;;;AAQA,OAAM,SAAUC,MAAV,CAAiBC,KAAjB,EAAyCC,UAAzC,EAAkEC,GAAlE,EAAsF;EAC1F,IAAMC,QAAQ,GAAG;IACfC,WAAW,EAAEN,KAAK,CAACE,KAAK,CAACK,IAAN,CAAW,aAAX,CAAD,CAAL,GAAmC,CAAnC,GAAuCL,KAAK,CAACK,IAAN,CAAW,aAAX,CADrC;IAEfC,aAAa,EAAER,KAAK,CAACE,KAAK,CAACK,IAAN,CAAW,eAAX,CAAD,CAAL,GAAqC,CAArC,GAAyCL,KAAK,CAACK,IAAN,CAAW,eAAX,CAFzC;IAGfE,OAAO,EAAET,KAAK,CAACE,KAAK,CAACK,IAAN,CAAW,SAAX,CAAD,CAAL,GAA+B,CAA/B,GAAmCL,KAAK,CAACK,IAAN,CAAW,SAAX;EAH7B,CAAjB;EAKAL,KAAK,CAACK,IAAN,CAAW;IACTD,WAAW,EAAE,CADJ;IAETE,aAAa,EAAE,CAFN;IAGTC,OAAO,EAAE;EAHA,CAAX;EAKAP,KAAK,CAACQ,OAAN,CAAcL,QAAd,EAAwBF,UAAxB;AACD;AAED;;;;;;;;;AAQA,OAAM,SAAUQ,OAAV,CAAkBT,KAAlB,EAA0CC,UAA1C,EAAmEC,GAAnE,EAAuF;EAC3F,IAAMC,QAAQ,GAAG;IACfC,WAAW,EAAE,CADE;IAEfE,aAAa,EAAE,CAFA;IAGfC,OAAO,EAAE;EAHM,CAAjB;EAKQ,UAAM,GAAsBN,UAAU,OAAtC;EAAA,IAAQS,QAAQ,GAAYT,UAAU,SAAtC;EAAA,IAAkBU,KAAK,GAAKV,UAAU,MAAtC;EACRD,KAAK,CAACQ,OAAN,CACEL,QADF,EAEEO,QAFF,EAGEE,MAHF,EAIE;IACEZ,KAAK,CAACa,MAAN,CAAa,IAAb;EACD,CANH,EAOEF,KAPF;AASD","names":["isNil","fadeIn","shape","animateCfg","cfg","endState","fillOpacity","attr","strokeOpacity","opacity","animate","fadeOut","duration","delay","easing","remove"],"sourceRoot":"","sources":["../../../src/animate/animation/fade.ts"],"sourcesContent":["import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * 单个 shape 动画\n * 渐现动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n * 单个 shape 动画\n * 渐隐动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n"]},"metadata":{},"sourceType":"module"}