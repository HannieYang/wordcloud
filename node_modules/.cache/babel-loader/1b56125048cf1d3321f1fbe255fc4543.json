{"ast":null,"code":"import { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n/**\n * 获取图表元素对应字段的值\n * @param element 图表元素\n * @param field 字段名\n * @ignore\n */\n\nexport function getElementValue(element, field) {\n  var model = element.getModel();\n  var record = model.data;\n  var value;\n\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n\n  return value;\n}\n/**\n * @ignore\n * 清理 highlight 效果\n * @param view View 或者 Chart\n */\n\nexport function clearHighlight(view) {\n  var elements = getAllElements(view);\n  each(elements, function (el) {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}","map":{"version":3,"mappings":"AACA,SAASA,IAAT,EAAeC,OAAf,QAA8B,YAA9B;AACA,SAASC,cAAT,QAA+B,gBAA/B;AAEA;;;;;;;AAMA,OAAM,SAAUC,eAAV,CAA0BC,OAA1B,EAA4CC,KAA5C,EAAiD;EACrD,IAAMC,KAAK,GAAGF,OAAO,CAACG,QAAR,EAAd;EACA,IAAMC,MAAM,GAAGF,KAAK,CAACG,IAArB;EACA,IAAIC,KAAJ;;EACA,IAAIT,OAAO,CAACO,MAAD,CAAX,EAAqB;IACnBE,KAAK,GAAGF,MAAM,CAAC,CAAD,CAAN,CAAUH,KAAV,CAAR;EACD,CAFD,MAEO;IACLK,KAAK,GAAGF,MAAM,CAACH,KAAD,CAAd;EACD;;EACD,OAAOK,KAAP;AACD;AAED;;;;;;AAKA,OAAM,SAAUC,cAAV,CAAyBC,IAAzB,EAAmC;EACvC,IAAMC,QAAQ,GAAGX,cAAc,CAACU,IAAD,CAA/B;EACAZ,IAAI,CAACa,QAAD,EAAW,UAACC,EAAD,EAAG;IAChB,IAAIA,EAAE,CAACC,QAAH,CAAY,QAAZ,CAAJ,EAA2B;MACzBD,EAAE,CAACE,QAAH,CAAY,QAAZ,EAAsB,KAAtB;IACD;;IACD,IAAIF,EAAE,CAACC,QAAH,CAAY,UAAZ,CAAJ,EAA6B;MAC3BD,EAAE,CAACE,QAAH,CAAY,UAAZ,EAAwB,KAAxB;IACD;;IACD,IAAIF,EAAE,CAACC,QAAH,CAAY,UAAZ,CAAJ,EAA6B;MAC3BD,EAAE,CAACE,QAAH,CAAY,UAAZ,EAAwB,KAAxB;IACD;EACF,CAVG,CAAJ;AAWD","names":["each","isArray","getAllElements","getElementValue","element","field","model","getModel","record","data","value","clearHighlight","view","elements","el","hasState","setState"],"sourceRoot":"","sources":["../../../../src/plots/mix/interactions/utils.ts"],"sourcesContent":["import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * 获取图表元素对应字段的值\n * @param element 图表元素\n * @param field 字段名\n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n * 清理 highlight 效果\n * @param view View 或者 Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n"]},"metadata":{},"sourceType":"module"}