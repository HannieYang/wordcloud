{"ast":null,"code":"import { WordCloud } from '@antv/g2plot';\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      all_labels_data: [],\n      labels: [],\n      labels_list: [],\n      searchContent: '',\n      netValue: \"\",\n      netOptions: [],\n      categoryValue: \"\",\n      categoryOptions: [],\n      tableData: [],\n      currentPage: 1,\n      pageSize: 10,\n      small: false,\n      disabled: false,\n      background: false,\n      total: 200\n    };\n  },\n\n  computed: {\n    // netValue(){\n    //     return this.netOptions[0]\n    // },\n    // categoryValue(){\n    //     return this.categoryOptions[0]\n    // },\n    labelsContainerIsShow() {\n      return this.searchContent == \"\";\n    },\n\n    searchResultTableIsShow() {\n      return this.tableData.length != 0;\n    },\n\n    emptyIsShow() {\n      return this.searchContent != \"\" && this.tableData.length == 0;\n    }\n\n  },\n  methods: {\n    initChart() {\n      const wordCloud = new WordCloud('wordcloud', {\n        data: this.labels,\n        autoFit: true,\n        wordField: 'x',\n        weightField: 'value',\n        colorField: 'value',\n        wordStyle: {\n          fontFamily: 'Verdana',\n          fontSize: [15, 30]\n        },\n        // 设置交互类型\n        interactions: [{\n          type: 'element-active'\n        }],\n        state: {\n          active: {\n            // 这里可以设置 active 时的样式\n            style: {\n              lineWidth: 3\n            }\n          }\n        },\n        tooltip: {\n          showContent: true\n        },\n        random: () => 0.5\n      });\n      wordCloud.render(); // 图例名称添加点击事件\n\n      wordCloud.on('element:click', (...args) => {\n        console.log(args[0].data.data.text);\n        this.searchContent = args[0].data.data.text; //todo：向后端请求数据\n\n        axios({\n          method: 'post',\n          url: '/mock/two',\n          data: {\n            label: this.searchContent,\n            net: this.netValue,\n            category: this.categoryValue,\n            page: 1,\n            page_size: this.pageSize\n          }\n        }).then(response => {\n          console.log(response);\n          const data = response.data;\n          this.total = data.total;\n          this.tableData = data.result_list;\n        }).catch(error => {\n          console.log(error);\n        });\n      });\n    },\n\n    categoryChange() {\n      if (this.searchContent.length == 0) {\n        this.labels_list = this.all_labels_data;\n      } else {\n        this.search();\n      }\n    },\n\n    search() {\n      if (this.searchContent != \"\") {\n        // console.log(this.searchContent)\n        // console.log(this.netValue)\n        // console.log(this.categoryValue)\n        // todo：向后端请求数据\n        axios({\n          method: 'post',\n          url: '/mock/two',\n          data: {\n            label: this.searchContent,\n            net: this.netValue,\n            category: this.categoryValue,\n            page: 1,\n            page_size: this.pageSize\n          }\n        }).then(response => {\n          console.log(response);\n          const data = response.data;\n          this.total = data.total;\n          this.tableData = data.result_list;\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    },\n\n    searchThisLabel(label) {\n      this.searchContent = label; // console.log(label)\n      // todo：向后端请求数据\n\n      axios({\n        method: 'post',\n        url: '/mock/two',\n        data: {\n          label: this.searchContent,\n          net: this.netValue,\n          category: this.categoryValue,\n          page: 1,\n          page_size: this.pageSize\n        }\n      }).then(response => {\n        console.log(response);\n        const data = response.data;\n        this.total = data.total;\n        this.tableData = data.result_list;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    getTableData() {\n      // console.log(this.pageSize);\n      // console.log(this.currentPage);\n      //todo：向后端请求数据\n      axios({\n        method: 'post',\n        url: '/mock/two',\n        data: {\n          label: this.searchContent,\n          net: this.netValue,\n          category: this.categoryValue,\n          page: this.currentPage,\n          page_size: this.pageSize\n        }\n      }).then(response => {\n        console.log(response);\n        const data = response.data;\n        this.total = data.total;\n        this.tableData = data.result_list;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  },\n\n  mounted() {\n    //todo：向后端请求词云数据，初步写了请求代码，之后参数名什么的还需要调整，看后端返回的具体数据\n    axios({\n      method: 'get',\n      url: '/mock/one'\n    }).then(response => {\n      console.log(response);\n      const data = response.data; // todo:这个之后要看一下返回的数据具体是什么key再进行选择\n\n      this.all_labels_data = data;\n      this.labels = data.all;\n      this.labels_list = data.all; // this.netOptions = data.net_list;\n      // this.netValue = data.net_list[0];\n\n      const category_list = Object.keys(data);\n      this.categoryOptions = category_list;\n      this.categoryValue = category_list[0];\n      this.initChart();\n    }).catch(error => {\n      console.log('here');\n      console.log(error);\n    }); // this.initChart()\n  }\n\n};","map":{"version":3,"mappings":"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","names":["WordCloud","axios","data","all_labels_data","labels","labels_list","searchContent","netValue","netOptions","categoryValue","categoryOptions","tableData","currentPage","pageSize","small","disabled","background","total","computed","labelsContainerIsShow","searchResultTableIsShow","length","emptyIsShow","methods","initChart","wordCloud","autoFit","wordField","weightField","colorField","wordStyle","fontFamily","fontSize","interactions","type","state","active","style","lineWidth","tooltip","showContent","random","render","on","args","console","log","text","method","url","label","net","category","page","page_size","then","response","result_list","catch","error","categoryChange","search","searchThisLabel","getTableData","mounted","all","category_list","Object","keys"],"sourceRoot":"","sources":["C:\\Users\\Administrator\\Desktop\\wordcloud_new\\src\\views\\WordCloudView.vue"],"sourcesContent":["<template>\r\n    <div id=\"whole-wordcloud-page\">\r\n        <el-container>\r\n            <el-main>\r\n                <div id=\"wordcloud-container\">\r\n                    <p>Label Word Cloud</p>\r\n                    <div id=\"wordcloud\"></div>\r\n                </div>\r\n                <div id=\"search-container\">\r\n                    <el-row :gutter=\"20\">\r\n                        <!-- <el-col :sm=\"6\" :xs=\"10\">\r\n                            <div id=\"net-selector\" class=\"layout-search\">\r\n                                <p>net:</p>\r\n                                <el-select v-model=\"netValue\" placeholder=\"Select\" @change=\"search\">\r\n                                    <el-option\r\n                                    v-for=\"item in netOptions\"\r\n                                    :key=\"item\"\r\n                                    :value=\"item\"\r\n                                    />\r\n                                </el-select>\r\n                            </div>\r\n                        </el-col> -->\r\n                        <el-col :sm=\"10\" :xs=\"24\">\r\n                            <div id=\"category-selector\" class=\"layout-search\">\r\n                                <p>category:</p>\r\n                                <el-select v-model=\"categoryValue\" placeholder=\"Select\" @change=\"categoryChange\">\r\n                                    <el-option\r\n                                    v-for=\"item in categoryOptions\"\r\n                                    :key=\"item\"\r\n                                    :value=\"item\"\r\n                                    />\r\n                                </el-select>\r\n                            </div>\r\n                        </el-col>\r\n                        <el-col :sm=\"14\" :xs=\"24\">\r\n                            <div id=\"label-input-box\" class=\"layout-search\">\r\n                                <el-input v-model=\"searchContent\" placeholder=\"Search Labels\" @input=\"search\">\r\n                                    <template #append>\r\n                                        <el-button class=\"search-button\" @click=\"search\">Search</el-button>\r\n                                    </template>\r\n                                </el-input>\r\n                            </div>\r\n                        </el-col>\r\n                    </el-row>\r\n                </div>\r\n                <div id=\"labels-container\" v-show=\"labelsContainerIsShow\">\r\n                    <el-row>\r\n                        <el-col :lg=\"6\" :md=\"8\" :sm=\"12\" :xs=\"24\" v-for=\"label in labels_list\" :key=\"label.x\">\r\n                            <el-button class=\"label-button\" @click=\"searchThisLabel(label.x)\">{{label.x}}\r\n                                <el-tag effect=\"dark\" round size=\"small\" style=\"margin-left:10px\">{{ label.value }}</el-tag>\r\n                            </el-button>\r\n                        </el-col>\r\n                    </el-row>\r\n                </div>\r\n                <div id=\"search-result-table\" v-show=\"searchResultTableIsShow\">\r\n                    <div id=\"result-table\">\r\n                        <el-table :data=\"tableData\">\r\n                            <el-table-column type=\"expand\">\r\n                                <template #default=\"props\">\r\n                                    <div>\r\n                                        <p v-for=\"(value,name) in props.row.info\" :key=\"name\">{{name}}:{{value}}</p>\r\n                                    </div>\r\n                                </template>\r\n                            </el-table-column>\r\n                            <el-table-column label=\"Label\" prop=\"label\" />\r\n                            <el-table-column label=\"Net\" prop=\"net\" />\r\n                            <el-table-column label=\"Category\" prop=\"category\" />\r\n                            <el-table-column label=\"Address\" prop=\"address\" />\r\n                        </el-table>\r\n                    </div>\r\n                    <div id=\"result-pagination\">\r\n                        <el-pagination\r\n                            v-model:currentPage=\"currentPage\"\r\n                            v-model:page-size=\"pageSize\"\r\n                            :page-sizes=\"[10,25,50,100]\"\r\n                            :small=\"small\"\r\n                            :disabled=\"disabled\"\r\n                            :background=\"background\"\r\n                            layout=\"total, sizes, prev, pager, next, jumper\"\r\n                            :total=\"total\"\r\n                            @size-change=\"getTableData\"\r\n                            @current-change=\"getTableData\"\r\n                            @next-click=\"getTableData\"\r\n                            @prev-click=\"getTableData\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <el-empty description=\"No Data\" v-show=\"emptyIsShow\"/>\r\n            </el-main>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { WordCloud } from '@antv/g2plot';\r\nimport axios from 'axios';\r\nexport default {\r\n    data(){\r\n        return{\r\n            all_labels_data:[],\r\n            labels:[],\r\n            labels_list:[],\r\n            searchContent:'',\r\n            netValue:\"\",\r\n            netOptions:[],\r\n            categoryValue:\"\",\r\n            categoryOptions:[],\r\n            tableData:[],\r\n            currentPage:1,\r\n            pageSize:10,\r\n            small:false,\r\n            disabled:false,\r\n            background:false,\r\n            total:200,\r\n        }\r\n    },\r\n    computed:{\r\n        // netValue(){\r\n        //     return this.netOptions[0]\r\n        // },\r\n        // categoryValue(){\r\n        //     return this.categoryOptions[0]\r\n        // },\r\n        labelsContainerIsShow(){\r\n            return this.searchContent==\"\"\r\n        },\r\n        searchResultTableIsShow(){\r\n            return this.tableData.length != 0\r\n        },\r\n        emptyIsShow(){\r\n            return this.searchContent!=\"\" && this.tableData.length == 0\r\n        }\r\n    },\r\n    methods:{\r\n        initChart(){\r\n            const wordCloud = new WordCloud('wordcloud', {\r\n                data:this.labels,\r\n                autoFit:true,\r\n                wordField: 'x',\r\n                weightField: 'value',\r\n                colorField:'value',\r\n                wordStyle: {\r\n                    fontFamily: 'Verdana',\r\n                    fontSize: [15, 30],\r\n                },\r\n                // 设置交互类型\r\n                interactions: [{ type: 'element-active' }],\r\n                state: {\r\n                    active: {\r\n                    // 这里可以设置 active 时的样式\r\n                        style: {\r\n                            lineWidth: 3,\r\n                        },\r\n                    },\r\n                },\r\n                tooltip:{\r\n                    showContent:true,\r\n                },\r\n                random: () => 0.5,\r\n            });\r\n\r\n            wordCloud.render();\r\n            // 图例名称添加点击事件\r\n            wordCloud.on('element:click', (...args) => {\r\n                console.log(args[0].data.data.text);\r\n                this.searchContent = args[0].data.data.text;\r\n                //todo：向后端请求数据\r\n                axios({\r\n                    method: 'post',\r\n                    url:'/mock/two',\r\n                    data:{\r\n                        label: this.searchContent,\r\n                        net: this.netValue,\r\n                        category: this.categoryValue,\r\n                        page:1,\r\n                        page_size:this.pageSize\r\n                    }\r\n                }).then((response)=>{\r\n                    console.log(response)\r\n                    const data = response.data;\r\n                    this.total = data.total;\r\n                    this.tableData = data.result_list;\r\n                }).catch((error)=>{\r\n                    console.log(error)\r\n                })\r\n            });\r\n        },\r\n        categoryChange(){\r\n            if(this.searchContent.length == 0){\r\n                this.labels_list = this.all_labels_data\r\n            }else{\r\n                this.search()\r\n            }\r\n        },\r\n        search(){\r\n            if(this.searchContent != \"\"){\r\n                // console.log(this.searchContent)\r\n                // console.log(this.netValue)\r\n                // console.log(this.categoryValue)\r\n                // todo：向后端请求数据\r\n                axios({\r\n                    method: 'post',\r\n                    url:'/mock/two',\r\n                    data:{\r\n                        label: this.searchContent,\r\n                        net: this.netValue,\r\n                        category: this.categoryValue,\r\n                        page:1,\r\n                        page_size:this.pageSize\r\n                    }\r\n                }).then((response)=>{\r\n                    console.log(response)\r\n                    const data = response.data;\r\n                    this.total = data.total;\r\n                    this.tableData = data.result_list;\r\n                }).catch((error)=>{\r\n                    console.log(error)\r\n                })\r\n            }\r\n        },\r\n        searchThisLabel(label){\r\n            this.searchContent = label;\r\n            // console.log(label)\r\n            // todo：向后端请求数据\r\n            axios({\r\n                method: 'post',\r\n                url:'/mock/two',\r\n                data:{\r\n                    label: this.searchContent,\r\n                    net: this.netValue,\r\n                    category: this.categoryValue,\r\n                    page:1,\r\n                    page_size:this.pageSize\r\n                }\r\n            }).then((response)=>{\r\n                console.log(response)\r\n                const data = response.data;\r\n                this.total = data.total;\r\n                this.tableData = data.result_list;\r\n            }).catch((error)=>{\r\n                console.log(error)\r\n            })\r\n        },\r\n        getTableData(){\r\n            // console.log(this.pageSize);\r\n            // console.log(this.currentPage);\r\n            //todo：向后端请求数据\r\n            axios({\r\n                method: 'post',\r\n                url:'/mock/two',\r\n                data:{\r\n                    label: this.searchContent,\r\n                    net: this.netValue,\r\n                    category: this.categoryValue,\r\n                    page:this.currentPage,\r\n                    page_size:this.pageSize\r\n                }\r\n            }).then((response)=>{\r\n                console.log(response)\r\n                const data = response.data;\r\n                this.total = data.total;\r\n                this.tableData = data.result_list;\r\n            }).catch((error)=>{\r\n                console.log(error)\r\n            })\r\n        }\r\n    },\r\n    mounted(){\r\n        //todo：向后端请求词云数据，初步写了请求代码，之后参数名什么的还需要调整，看后端返回的具体数据\r\n        axios({\r\n            method: 'get',\r\n            url: '/mock/one'\r\n        }).then((response)=>{\r\n            console.log(response)\r\n            const data = response.data;\r\n            // todo:这个之后要看一下返回的数据具体是什么key再进行选择\r\n            this.all_labels_data = data;\r\n            this.labels = data.all;\r\n            this.labels_list = data.all;\r\n            // this.netOptions = data.net_list;\r\n            // this.netValue = data.net_list[0];\r\n            const category_list = Object.keys(data);\r\n            this.categoryOptions = category_list;\r\n            this.categoryValue = category_list[0];\r\n            this.initChart();\r\n        }).catch((error)=>{\r\n            console.log('here');\r\n            console.log(error);\r\n        })\r\n        // this.initChart()\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    #whole-wordcloud-page{\r\n        width:100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    .el-main{\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n    #wordcloud-container{\r\n        width: 80%;\r\n        p{\r\n            font-size: 30px;\r\n        }\r\n    }\r\n    #search-container{\r\n        width:80%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-items: center;\r\n        .el-row{\r\n            width:100%;\r\n        }\r\n    }\r\n    .layout-search{\r\n        width:100%;\r\n        height:100%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    #category-selector{\r\n        .el-select{\r\n            width:70%\r\n        }\r\n    }\r\n    .label-button{\r\n        width:80%\r\n    }\r\n    #labels-container{\r\n        .el-col{\r\n            margin-top:10px\r\n        }\r\n    }\r\n    #search-result-table{\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        width:90%;\r\n        margin-top: 20px;\r\n    }\r\n    #result-table{\r\n        width:100%\r\n    }\r\n    #result-pagination{\r\n        margin-top: 5px;\r\n        align-self: flex-end;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}