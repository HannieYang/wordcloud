{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { each, findIndex } from '@antv/util';\nimport { InteractionAction } from '@antv/g2';\n\nvar MarkerActiveAction =\n/** @class */\nfunction (_super) {\n  __extends(MarkerActiveAction, _super);\n\n  function MarkerActiveAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MarkerActiveAction.prototype.active = function () {\n    var view = this.getView();\n    var evt = this.context.event;\n\n    if (evt.data) {\n      // items: 数组对象，当前 tooltip 显示的每条内容\n      var items_1 = evt.data.items;\n      var points = view.geometries.filter(function (geom) {\n        return geom.type === 'point';\n      });\n      each(points, function (point) {\n        each(point.elements, function (element) {\n          var active = findIndex(items_1, function (item) {\n            return item.data === element.data;\n          }) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  };\n\n  MarkerActiveAction.prototype.reset = function () {\n    var view = this.getView();\n    var points = view.geometries.filter(function (geom) {\n      return geom.type === 'point';\n    });\n    each(points, function (point) {\n      each(point.elements, function (element) {\n        element.setState('active', false);\n      });\n    });\n  };\n\n  MarkerActiveAction.prototype.getView = function () {\n    return this.context.view;\n  };\n\n  return MarkerActiveAction;\n}(InteractionAction);\n\nexport { MarkerActiveAction };","map":{"version":3,"mappings":";AAAA,SAASA,IAAT,EAAeC,SAAf,QAAgC,YAAhC;AACA,SAASC,iBAAT,QAAkD,UAAlD;;AAEA;AAAA;AAAA;EAAwCC;;EAAxC;;EA8BC;;EA7BQC,sCAAP;IACE,IAAMC,IAAI,GAAG,KAAKC,OAAL,EAAb;IACA,IAAMC,GAAG,GAAG,KAAKC,OAAL,CAAaC,KAAzB;;IACA,IAAIF,GAAG,CAACG,IAAR,EAAc;MACZ;MACQ,WAAK,GAAKH,GAAG,CAACG,IAAJ,CAAQC,KAAlB;MACR,IAAMC,MAAM,GAAGP,IAAI,CAACQ,UAAL,CAAgBC,MAAhB,CAAuB,UAACC,IAAD,EAAK;QAAK,WAAI,CAACC,IAAL,KAAc,OAAd;MAAqB,CAAtD,CAAf;MACAhB,IAAI,CAACY,MAAD,EAAS,UAACK,KAAD,EAAgB;QAC3BjB,IAAI,CAACiB,KAAK,CAACC,QAAP,EAAiB,UAACC,OAAD,EAAQ;UAC3B,IAAMC,MAAM,GAAGnB,SAAS,CAACoB,OAAD,EAAQ,UAACC,IAAD,EAAK;YAAK,OAACA,IAAY,CAACZ,IAAb,KAAsBS,OAAO,CAACT,IAA/B;UAAmC,CAArD,CAAT,KAAoE,CAAC,CAApF;UACAS,OAAO,CAACI,QAAR,CAAiB,QAAjB,EAA2BH,MAA3B;QACD,CAHG,CAAJ;MAID,CALG,CAAJ;IAMD;EACF,CAdM;;EAgBAhB,qCAAP;IACE,IAAMC,IAAI,GAAG,KAAKC,OAAL,EAAb;IACA,IAAMM,MAAM,GAAGP,IAAI,CAACQ,UAAL,CAAgBC,MAAhB,CAAuB,UAACC,IAAD,EAAK;MAAK,WAAI,CAACC,IAAL,KAAc,OAAd;IAAqB,CAAtD,CAAf;IACAhB,IAAI,CAACY,MAAD,EAAS,UAACK,KAAD,EAAgB;MAC3BjB,IAAI,CAACiB,KAAK,CAACC,QAAP,EAAiB,UAACC,OAAD,EAAQ;QAC3BA,OAAO,CAACI,QAAR,CAAiB,QAAjB,EAA2B,KAA3B;MACD,CAFG,CAAJ;IAGD,CAJG,CAAJ;EAKD,CARM;;EAUCnB,uCAAR;IACE,OAAO,KAAKI,OAAL,CAAaH,IAApB;EACD,CAFO;;EAGV;AAAC,CA9BD,CAAwCH,iBAAxC","names":["each","findIndex","InteractionAction","__extends","MarkerActiveAction","view","getView","evt","context","event","data","items","points","geometries","filter","geom","type","point","elements","element","active","items_1","item","setState"],"sourceRoot":"","sources":["../../../../src/plots/line/interactions/marker-active.ts"],"sourcesContent":["import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items: 数组对象，当前 tooltip 显示的每条内容\n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}