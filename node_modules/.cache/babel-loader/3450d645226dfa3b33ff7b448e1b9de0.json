{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\n\nvar ImageAnnotation =\n/** @class */\nfunction (_super) {\n  __extends(ImageAnnotation, _super);\n\n  function ImageAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n\n\n  ImageAnnotation.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n\n    return __assign(__assign({}, cfg), {\n      name: 'annotation',\n      type: 'image',\n      locationType: 'region',\n      start: null,\n      end: null,\n      src: null,\n      style: {}\n    });\n  };\n\n  ImageAnnotation.prototype.renderInner = function (group) {\n    this.renderImage(group);\n  };\n\n  ImageAnnotation.prototype.getImageAttrs = function () {\n    var start = this.get('start');\n    var end = this.get('end');\n    var style = this.get('style');\n    var bbox = regionToBBox({\n      start: start,\n      end: end\n    });\n    var src = this.get('src');\n    return __assign({\n      x: bbox.x,\n      y: bbox.y,\n      img: src,\n      width: bbox.width,\n      height: bbox.height\n    }, style);\n  }; // 绘制图片\n\n\n  ImageAnnotation.prototype.renderImage = function (group) {\n    this.addShape(group, {\n      type: 'image',\n      id: this.getElementId('image'),\n      name: 'annotation-image',\n      attrs: this.getImageAttrs()\n    });\n  };\n\n  return ImageAnnotation;\n}(GroupComponent);\n\nexport default ImageAnnotation;","map":{"version":3,"mappings":";AACA,OAAOA,cAAP,MAA2B,6BAA3B;AAGA,SAASC,YAAT,QAA6B,cAA7B;;AAEA;AAAA;AAAA;EAA8BC;;EAA9B;;EAiDC;EAhDC;;;;;;;EAKOC,0CAAP;IACE,IAAMC,GAAG,GAAGC,iBAAMC,aAAN,CAAmBC,IAAnB,CAAmB,IAAnB,CAAZ;;IACA,6BACKH,GADL,GACQ;MACNI,IAAI,EAAE,YADA;MAENC,IAAI,EAAE,OAFA;MAGNC,YAAY,EAAE,QAHR;MAINC,KAAK,EAAE,IAJD;MAKNC,GAAG,EAAE,IALC;MAMNC,GAAG,EAAE,IANC;MAONC,KAAK,EAAE;IAPD,CADR;EAUD,CAZM;;EAcAX,wCAAP,UAAmBY,KAAnB,EAAgC;IAC9B,KAAKC,WAAL,CAAiBD,KAAjB;EACD,CAFM;;EAICZ,0CAAR;IACE,IAAMQ,KAAK,GAAG,KAAKM,GAAL,CAAS,OAAT,CAAd;IACA,IAAML,GAAG,GAAG,KAAKK,GAAL,CAAS,KAAT,CAAZ;IACA,IAAMH,KAAK,GAAG,KAAKG,GAAL,CAAS,OAAT,CAAd;IACA,IAAMC,IAAI,GAAGjB,YAAY,CAAC;MAAEU,KAAK,OAAP;MAASC,GAAG;IAAZ,CAAD,CAAzB;IACA,IAAMC,GAAG,GAAG,KAAKI,GAAL,CAAS,KAAT,CAAZ;IACA;MACEE,CAAC,EAAED,IAAI,CAACC,CADV;MAEEC,CAAC,EAAEF,IAAI,CAACE,CAFV;MAGEC,GAAG,EAAER,GAHP;MAIES,KAAK,EAAEJ,IAAI,CAACI,KAJd;MAKEC,MAAM,EAAEL,IAAI,CAACK;IALf,GAMKT,KANL;EAQD,CAdO,CAxBV,CAwCE;;;EACQX,wCAAR,UAAoBY,KAApB,EAAiC;IAC/B,KAAKS,QAAL,CAAcT,KAAd,EAAqB;MACnBN,IAAI,EAAE,OADa;MAEnBgB,EAAE,EAAE,KAAKC,YAAL,CAAkB,OAAlB,CAFe;MAGnBlB,IAAI,EAAE,kBAHa;MAInBmB,KAAK,EAAE,KAAKC,aAAL;IAJY,CAArB;EAMD,CAPO;;EAQV;AAAC,CAjDD,CAA8B5B,cAA9B;;AAmDA,eAAeG,eAAf","names":["GroupComponent","regionToBBox","__extends","ImageAnnotation","cfg","_super","getDefaultCfg","call","name","type","locationType","start","end","src","style","group","renderImage","get","bbox","x","y","img","width","height","addShape","id","getElementId","attrs","getImageAttrs"],"sourceRoot":"","sources":["../../src/annotation/image.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}