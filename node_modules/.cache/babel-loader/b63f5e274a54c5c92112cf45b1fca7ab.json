{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport { addEventListener } from '@antv/dom-util';\nimport { clamp, deepMix, get, noop } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nvar DEFAULT_STYLE = {\n  trackColor: 'rgba(0,0,0,0)',\n  thumbColor: 'rgba(0,0,0,0.15)',\n  size: 8,\n  lineCap: 'round'\n};\nexport var DEFAULT_THEME = {\n  // 默认样式\n  default: DEFAULT_STYLE,\n  // 鼠标 hover 的样式\n  hover: {\n    thumbColor: 'rgba(0,0,0,0.2)'\n  }\n};\n\nvar Scrollbar =\n/** @class */\nfunction (_super) {\n  __extends(Scrollbar, _super);\n\n  function Scrollbar() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.clearEvents = noop;\n\n    _this.onStartEvent = function (isMobile) {\n      return function (e) {\n        _this.isMobile = isMobile;\n        e.originalEvent.preventDefault();\n        var clientX = isMobile ? get(e.originalEvent, 'touches.0.clientX') : e.clientX;\n        var clientY = isMobile ? get(e.originalEvent, 'touches.0.clientY') : e.clientY; // 将开始的点记录下来\n\n        _this.startPos = _this.cfg.isHorizontal ? clientX : clientY;\n\n        _this.bindLaterEvent();\n      };\n    };\n\n    _this.bindLaterEvent = function () {\n      var containerDOM = _this.getContainerDOM();\n\n      var events = [];\n\n      if (_this.isMobile) {\n        events = [addEventListener(containerDOM, 'touchmove', _this.onMouseMove), addEventListener(containerDOM, 'touchend', _this.onMouseUp), addEventListener(containerDOM, 'touchcancel', _this.onMouseUp)];\n      } else {\n        events = [addEventListener(containerDOM, 'mousemove', _this.onMouseMove), addEventListener(containerDOM, 'mouseup', _this.onMouseUp), // 为了保证划出 canvas containerDom 时还没触发 mouseup\n        addEventListener(containerDOM, 'mouseleave', _this.onMouseUp)];\n      }\n\n      _this.clearEvents = function () {\n        events.forEach(function (e) {\n          e.remove();\n        });\n      };\n    }; // 拖拽滑块的事件回调\n    // 这里是 dom 原生事件，绑定在 dom 元素上的\n\n\n    _this.onMouseMove = function (e) {\n      var _a = _this.cfg,\n          isHorizontal = _a.isHorizontal,\n          thumbOffset = _a.thumbOffset;\n      e.preventDefault();\n      var clientX = _this.isMobile ? get(e, 'touches.0.clientX') : e.clientX;\n      var clientY = _this.isMobile ? get(e, 'touches.0.clientY') : e.clientY; // 鼠标松开的位置\n\n      var endPos = isHorizontal ? clientX : clientY; // 滑块需要移动的距离, 由于这里是对滑块监听，所以移动的距离就是 diffDis, 如果监听对象是 container dom，则需要算比例\n\n      var diff = endPos - _this.startPos; // 更新 _startPos\n\n      _this.startPos = endPos;\n\n      _this.updateThumbOffset(thumbOffset + diff);\n    };\n\n    _this.onMouseUp = function (e) {\n      e.preventDefault();\n\n      _this.clearEvents();\n    }; // 点击滑道的事件回调,移动滑块位置\n\n\n    _this.onTrackClick = function (e) {\n      var _a = _this.cfg,\n          isHorizontal = _a.isHorizontal,\n          x = _a.x,\n          y = _a.y,\n          thumbLen = _a.thumbLen;\n\n      var containerDOM = _this.getContainerDOM();\n\n      var rect = containerDOM.getBoundingClientRect();\n      var clientX = e.clientX,\n          clientY = e.clientY;\n      var offset = isHorizontal ? clientX - rect.left - x - thumbLen / 2 : clientY - rect.top - y - thumbLen / 2;\n\n      var newOffset = _this.validateRange(offset);\n\n      _this.updateThumbOffset(newOffset);\n    };\n\n    _this.onThumbMouseOver = function () {\n      var thumbColor = _this.cfg.theme.hover.thumbColor;\n\n      _this.getElementByLocalId('thumb').attr('stroke', thumbColor);\n\n      _this.draw();\n    };\n\n    _this.onThumbMouseOut = function () {\n      var thumbColor = _this.cfg.theme.default.thumbColor;\n\n      _this.getElementByLocalId('thumb').attr('stroke', thumbColor);\n\n      _this.draw();\n    };\n\n    return _this;\n  }\n\n  Scrollbar.prototype.setRange = function (min, max) {\n    this.set('minLimit', min);\n    this.set('maxLimit', max);\n    var curValue = this.getValue();\n    var newValue = clamp(curValue, min, max);\n\n    if (curValue !== newValue && !this.get('isInit')) {\n      this.setValue(newValue);\n    }\n  };\n\n  Scrollbar.prototype.getRange = function () {\n    var min = this.get('minLimit') || 0;\n    var max = this.get('maxLimit') || 1;\n    return {\n      min: min,\n      max: max\n    };\n  };\n\n  Scrollbar.prototype.setValue = function (value) {\n    var range = this.getRange();\n    var originalValue = this.getValue();\n    this.update({\n      thumbOffset: (this.get('trackLen') - this.get('thumbLen')) * clamp(value, range.min, range.max)\n    });\n    this.delegateEmit('valuechange', {\n      originalValue: originalValue,\n      value: this.getValue()\n    });\n  };\n\n  Scrollbar.prototype.getValue = function () {\n    return clamp(this.get('thumbOffset') / (this.get('trackLen') - this.get('thumbLen')), 0, 1);\n  };\n\n  Scrollbar.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n\n    return __assign(__assign({}, cfg), {\n      name: 'scrollbar',\n      isHorizontal: true,\n      minThumbLen: 20,\n      thumbOffset: 0,\n      theme: DEFAULT_THEME\n    });\n  };\n\n  Scrollbar.prototype.renderInner = function (group) {\n    this.renderTrackShape(group);\n    this.renderThumbShape(group);\n  };\n\n  Scrollbar.prototype.applyOffset = function () {\n    this.moveElementTo(this.get('group'), {\n      x: this.get('x'),\n      y: this.get('y')\n    });\n  };\n\n  Scrollbar.prototype.initEvent = function () {\n    this.bindEvents();\n  }; // 创建滑道的 shape\n\n\n  Scrollbar.prototype.renderTrackShape = function (group) {\n    var _a = this.cfg,\n        trackLen = _a.trackLen,\n        _b = _a.theme,\n        theme = _b === void 0 ? {\n      default: {}\n    } : _b;\n    var _c = deepMix({}, DEFAULT_THEME, theme).default,\n        lineCap = _c.lineCap,\n        trackColor = _c.trackColor,\n        themeSize = _c.size;\n    var size = get(this.cfg, 'size', themeSize);\n    var attrs = this.get('isHorizontal') ? {\n      x1: 0 + size / 2,\n      y1: size / 2,\n      x2: trackLen - size / 2,\n      y2: size / 2,\n      lineWidth: size,\n      stroke: trackColor,\n      lineCap: lineCap\n    } : {\n      x1: size / 2,\n      y1: 0 + size / 2,\n      x2: size / 2,\n      y2: trackLen - size / 2,\n      lineWidth: size,\n      stroke: trackColor,\n      lineCap: lineCap\n    };\n    return this.addShape(group, {\n      id: this.getElementId('track'),\n      name: 'track',\n      type: 'line',\n      attrs: attrs\n    });\n  }; // 创建滑块的 shape\n\n\n  Scrollbar.prototype.renderThumbShape = function (group) {\n    var _a = this.cfg,\n        thumbOffset = _a.thumbOffset,\n        thumbLen = _a.thumbLen,\n        theme = _a.theme;\n    var _b = deepMix({}, DEFAULT_THEME, theme).default,\n        themeSize = _b.size,\n        lineCap = _b.lineCap,\n        thumbColor = _b.thumbColor;\n    var size = get(this.cfg, 'size', themeSize);\n    var attrs = this.get('isHorizontal') ? {\n      x1: thumbOffset + size / 2,\n      y1: size / 2,\n      x2: thumbOffset + thumbLen - size / 2,\n      y2: size / 2,\n      lineWidth: size,\n      stroke: thumbColor,\n      lineCap: lineCap,\n      cursor: 'default'\n    } : {\n      x1: size / 2,\n      y1: thumbOffset + size / 2,\n      x2: size / 2,\n      y2: thumbOffset + thumbLen - size / 2,\n      lineWidth: size,\n      stroke: thumbColor,\n      lineCap: lineCap,\n      cursor: 'default'\n    };\n    return this.addShape(group, {\n      id: this.getElementId('thumb'),\n      name: 'thumb',\n      type: 'line',\n      attrs: attrs\n    });\n  };\n\n  Scrollbar.prototype.bindEvents = function () {\n    var group = this.get('group');\n    group.on('mousedown', this.onStartEvent(false));\n    group.on('mouseup', this.onMouseUp);\n    group.on('touchstart', this.onStartEvent(true));\n    group.on('touchend', this.onMouseUp);\n    var trackShape = group.findById(this.getElementId('track'));\n    trackShape.on('click', this.onTrackClick);\n    var thumbShape = group.findById(this.getElementId('thumb'));\n    thumbShape.on('mouseover', this.onThumbMouseOver);\n    thumbShape.on('mouseout', this.onThumbMouseOut);\n  };\n\n  Scrollbar.prototype.getContainerDOM = function () {\n    var container = this.get('container');\n    var canvas = container && container.get('canvas');\n    return canvas && canvas.get('container');\n  };\n\n  Scrollbar.prototype.validateRange = function (offset) {\n    var _a = this.cfg,\n        thumbLen = _a.thumbLen,\n        trackLen = _a.trackLen;\n    var newOffset = offset;\n\n    if (offset + thumbLen > trackLen) {\n      newOffset = trackLen - thumbLen;\n    } else if (offset + thumbLen < thumbLen) {\n      newOffset = 0;\n    }\n\n    return newOffset;\n  };\n\n  Scrollbar.prototype.draw = function () {\n    var container = this.get('container');\n    var canvas = container && container.get('canvas');\n\n    if (canvas) {\n      canvas.draw();\n    }\n  };\n\n  Scrollbar.prototype.updateThumbOffset = function (offset) {\n    var _a = this.cfg,\n        thumbOffset = _a.thumbOffset,\n        isHorizontal = _a.isHorizontal,\n        thumbLen = _a.thumbLen,\n        size = _a.size;\n    var newOffset = this.validateRange(offset);\n\n    if (newOffset === thumbOffset) {\n      // 如果更新后的 offset 与原值相同，则不改变\n      return;\n    }\n\n    var thumbShape = this.getElementByLocalId('thumb');\n\n    if (isHorizontal) {\n      thumbShape.attr({\n        x1: newOffset + size / 2,\n        x2: newOffset + thumbLen - size / 2\n      });\n    } else {\n      thumbShape.attr({\n        y1: newOffset + size / 2,\n        y2: newOffset + thumbLen - size / 2\n      });\n    }\n\n    this.emitOffsetChange(newOffset);\n  };\n\n  Scrollbar.prototype.emitOffsetChange = function (offset) {\n    var _a = this.cfg,\n        originalValue = _a.thumbOffset,\n        trackLen = _a.trackLen,\n        thumbLen = _a.thumbLen;\n    this.cfg.thumbOffset = offset; // 发送事件\n\n    this.emit('scrollchange', {\n      thumbOffset: offset,\n      ratio: clamp(offset / (trackLen - thumbLen), 0, 1)\n    });\n    this.delegateEmit('valuechange', {\n      originalValue: originalValue,\n      value: offset\n    });\n  };\n\n  return Scrollbar;\n}(GroupComponent);\n\nexport { Scrollbar };","map":{"version":3,"mappings":"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","names":["addEventListener","clamp","deepMix","get","noop","GroupComponent","DEFAULT_STYLE","trackColor","thumbColor","size","lineCap","DEFAULT_THEME","default","hover","__extends","_this","isMobile","e","originalEvent","preventDefault","clientX","clientY","startPos","cfg","isHorizontal","bindLaterEvent","containerDOM","getContainerDOM","events","onMouseMove","onMouseUp","clearEvents","forEach","remove","thumbOffset","endPos","diff","updateThumbOffset","x","y","thumbLen","rect","getBoundingClientRect","offset","left","top","newOffset","validateRange","theme","getElementByLocalId","attr","draw","Scrollbar","min","max","set","curValue","getValue","newValue","setValue","value","range","getRange","originalValue","update","delegateEmit","_super","getDefaultCfg","call","name","minThumbLen","group","renderTrackShape","renderThumbShape","moveElementTo","bindEvents","trackLen","_b","themeSize","attrs","x1","y1","x2","y2","lineWidth","stroke","addShape","id","getElementId","type","cursor","on","onStartEvent","trackShape","findById","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","container","canvas","emitOffsetChange","emit","ratio"],"sourceRoot":"","sources":["../../src/scrollbar/scrollbar.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}