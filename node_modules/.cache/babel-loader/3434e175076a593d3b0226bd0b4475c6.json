{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n/**\n * @ignore\n * 圆形辅助框 Action\n */\n\nvar CircleMask =\n/** @class */\nfunction (_super) {\n  __extends(CircleMask, _super);\n\n  function CircleMask() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.shapeType = 'circle';\n    return _this;\n  }\n\n  CircleMask.prototype.getMaskAttrs = function () {\n    var points = this.points;\n    var currentPoint = last(this.points);\n    var r = 0;\n    var x = 0;\n    var y = 0;\n\n    if (points.length) {\n      var first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n\n    return {\n      x: x,\n      y: y,\n      r: r\n    };\n  };\n\n  return CircleMask;\n}(MaskBase);\n\nexport default CircleMask;","map":{"version":3,"mappings":";AAAA,SAASA,IAAT,QAAqB,YAArB;AACA,SAASC,QAAT,QAAyB,SAAzB;AACA,OAAOC,QAAP,MAAqB,QAArB;AAEA;;;;;AAIA;AAAA;AAAA;EAAyBC;;EAAzB;IAAA;;IACYC,kBAAY,QAAZ;;EAmBX;;EAlBWC,oCAAV;IACE,IAAMC,MAAM,GAAG,KAAKA,MAApB;IACA,IAAMC,YAAY,GAAGP,IAAI,CAAC,KAAKM,MAAN,CAAzB;IACA,IAAIE,CAAC,GAAG,CAAR;IACA,IAAIC,CAAC,GAAG,CAAR;IACA,IAAIC,CAAC,GAAG,CAAR;;IACA,IAAIJ,MAAM,CAACK,MAAX,EAAmB;MACjB,IAAMC,KAAK,GAAGN,MAAM,CAAC,CAAD,CAApB;MACAE,CAAC,GAAGP,QAAQ,CAACW,KAAD,EAAQL,YAAR,CAAR,GAAgC,CAApC;MACAE,CAAC,GAAG,CAACF,YAAY,CAACE,CAAb,GAAiBG,KAAK,CAACH,CAAxB,IAA6B,CAAjC;MACAC,CAAC,GAAG,CAACH,YAAY,CAACG,CAAb,GAAiBE,KAAK,CAACF,CAAxB,IAA6B,CAAjC;IACD;;IACD,OAAO;MACLD,CAAC,GADI;MAELC,CAAC,GAFI;MAGLF,CAAC;IAHI,CAAP;EAKD,CAjBS;;EAkBZ;AAAC,CApBD,CAAyBN,QAAzB;;AAsBA,eAAeG,UAAf","names":["last","distance","MaskBase","__extends","_this","CircleMask","points","currentPoint","r","x","y","length","first"],"sourceRoot":"","sources":["../../../../src/interaction/action/mask/circle.ts"],"sourcesContent":["import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n * 圆形辅助框 Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n"]},"metadata":{},"sourceType":"module"}