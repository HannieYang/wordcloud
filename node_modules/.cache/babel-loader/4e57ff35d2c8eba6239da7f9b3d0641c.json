{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n/**\n * 状态量 Action 的基类\n * @abstract\n * @class\n * @ignore\n */\n\nvar StateBase =\n/** @class */\nfunction (_super) {\n  __extends(StateBase, _super);\n\n  function StateBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * 状态名称\n     */\n\n\n    _this.stateName = '';\n    return _this;\n  }\n  /**\n   * 是否具有某个状态\n   * @param element 图表 Element 元素\n   */\n\n\n  StateBase.prototype.hasState = function (element) {\n    return element.hasState(this.stateName);\n  };\n  /**\n   * 设置状态激活\n   * @param enable 状态值\n   */\n\n\n  StateBase.prototype.setElementState = function (element, enable) {\n    // 防止闪烁\n    element.setState(this.stateName, enable);\n  };\n  /**\n   * 设置状态\n   */\n\n\n  StateBase.prototype.setState = function () {\n    this.setStateEnable(true);\n  };\n  /**\n   * 清除所有 Element 的状态\n   */\n\n\n  StateBase.prototype.clear = function () {\n    var view = this.context.view;\n    this.clearViewState(view);\n  };\n\n  StateBase.prototype.clearViewState = function (view) {\n    var _this = this;\n\n    var elements = getElementsByState(view, this.stateName);\n    each(elements, function (el) {\n      _this.setElementState(el, false);\n    });\n  };\n\n  return StateBase;\n}(Action);\n\nexport default StateBase;","map":{"version":3,"mappings":";AAAA,SAASA,IAAT,QAAqB,YAArB;AAEA,OAAOC,MAAP,MAAmB,SAAnB;AACA,SAASC,kBAAT,QAAmC,SAAnC;AAEA;;;;;;;AAMA;AAAA;AAAA;EAAiCC;;EAAjC;IAAA;IACE;;;;;IAGUC,kBAAoB,EAApB;;EA6CX;EArCC;;;;;;EAIUC,+BAAV,UAAmBC,OAAnB,EAAmC;IACjC,OAAOA,OAAO,CAACC,QAAR,CAAiB,KAAKC,SAAtB,CAAP;EACD,CAFS;EAGV;;;;;;EAIUH,sCAAV,UAA0BC,OAA1B,EAA4CG,MAA5C,EAA2D;IACzD;IACAH,OAAO,CAACI,QAAR,CAAiB,KAAKF,SAAtB,EAAiCC,MAAjC;EACD,CAHS;EAKV;;;;;EAGOJ,+BAAP;IACE,KAAKM,cAAL,CAAoB,IAApB;EACD,CAFM;EAIP;;;;;EAGON,4BAAP;IACE,IAAMO,IAAI,GAAG,KAAKC,OAAL,CAAaD,IAA1B;IACA,KAAKE,cAAL,CAAoBF,IAApB;EACD,CAHM;;EAKGP,qCAAV,UAAyBO,IAAzB,EAA6B;IAA7B;;IACE,IAAMG,QAAQ,GAAGb,kBAAkB,CAACU,IAAD,EAAO,KAAKJ,SAAZ,CAAnC;IACAR,IAAI,CAACe,QAAD,EAAW,UAACC,EAAD,EAAY;MACzBZ,KAAI,CAACa,eAAL,CAAqBD,EAArB,EAAyB,KAAzB;IACD,CAFG,CAAJ;EAGD,CALS;;EAMZ;AAAC,CAjDD,CAAiCf,MAAjC;;AAmDA,eAAeI,SAAf","names":["each","Action","getElementsByState","__extends","_this","StateBase","element","hasState","stateName","enable","setState","setStateEnable","view","context","clearViewState","elements","el","setElementState"],"sourceRoot":"","sources":["../../../../src/interaction/action/element/state-base.ts"],"sourcesContent":["import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n * 状态量 Action 的基类\n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * 状态名称\n   */\n  protected stateName: string = '';\n\n  /**\n   * 设置状态是否激活\n   * @param enable 状态值\n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * 是否具有某个状态\n   * @param element 图表 Element 元素\n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * 设置状态激活\n   * @param enable 状态值\n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // 防止闪烁\n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * 设置状态\n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * 清除所有 Element 的状态\n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n"]},"metadata":{},"sourceType":"module"}