{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport Attribute from './attributes/base'; // 所有的 attribute map\n\nvar ATTRIBUTE_MAP = {};\n/**\n * 通过类型获得 Attribute 类\n * @param type\n */\n\nvar getAttribute = function (type) {\n  return ATTRIBUTE_MAP[type.toLowerCase()];\n};\n\nvar registerAttribute = function (type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getAttribute(type)) {\n    throw new Error(\"Attribute type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  ATTRIBUTE_MAP[type.toLowerCase()] = ctor;\n};\n\nexport { getAttribute, registerAttribute, Attribute };\nexport * from './interface';","map":{"version":3,"mappings":";AAAA,OAAOA,SAAP,MAAgD,mBAAhD,C,CAMA;;AACA,IAAMC,aAAa,GAAqB,EAAxC;AAEA;;;;;AAIA,IAAMC,YAAY,GAAG,UAACC,IAAD,EAAa;EAChC,OAAOF,aAAa,CAACE,IAAI,CAACC,WAAL,EAAD,CAApB;AACD,CAFD;;AAIA,IAAMC,iBAAiB,GAAG,UAACF,IAAD,EAAeG,IAAf,EAAyC;EACjE;EACA,IAAIJ,YAAY,CAACC,IAAD,CAAhB,EAAwB;IACtB,MAAM,IAAII,KAAJ,CAAU,qBAAmBJ,IAAnB,GAAuB,YAAjC,CAAN;EACD,CAJgE,CAKjE;;;EACAF,aAAa,CAACE,IAAI,CAACC,WAAL,EAAD,CAAb,GAAoCE,IAApC;AACD,CAPD;;AASA,SAASJ,YAAT,EAAuBG,iBAAvB,EAA0CL,SAA1C;AACA,cAAc,aAAd","names":["Attribute","ATTRIBUTE_MAP","getAttribute","type","toLowerCase","registerAttribute","ctor","Error"],"sourceRoot":"","sources":["../src/factory.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}