{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { getCirclePoint } from '../util/util';\n\nvar ArcAnnotation =\n/** @class */\nfunction (_super) {\n  __extends(ArcAnnotation, _super);\n\n  function ArcAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n\n\n  ArcAnnotation.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n\n    return __assign(__assign({}, cfg), {\n      name: 'annotation',\n      type: 'arc',\n      locationType: 'circle',\n      center: null,\n      radius: 100,\n      startAngle: -Math.PI / 2,\n      endAngle: Math.PI * 3 / 2,\n      style: {\n        stroke: '#999',\n        lineWidth: 1\n      }\n    });\n  };\n\n  ArcAnnotation.prototype.renderInner = function (group) {\n    this.renderArc(group);\n  };\n\n  ArcAnnotation.prototype.getArcPath = function () {\n    var _a = this.getLocation(),\n        center = _a.center,\n        radius = _a.radius,\n        startAngle = _a.startAngle,\n        endAngle = _a.endAngle;\n\n    var startPoint = getCirclePoint(center, radius, startAngle);\n    var endPoint = getCirclePoint(center, radius, endAngle);\n    var largeFlag = endAngle - startAngle > Math.PI ? 1 : 0;\n    var path = [['M', startPoint.x, startPoint.y]];\n\n    if (endAngle - startAngle === Math.PI * 2) {\n      // 整个圆是分割成两个圆\n      var middlePoint = getCirclePoint(center, radius, startAngle + Math.PI);\n      path.push(['A', radius, radius, 0, largeFlag, 1, middlePoint.x, middlePoint.y]);\n      path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n    } else {\n      path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n    }\n\n    return path;\n  }; // 绘制 arc\n\n\n  ArcAnnotation.prototype.renderArc = function (group) {\n    // 也可以 通过 get('center') 类似的方式逐个获取\n    var path = this.getArcPath();\n    var style = this.get('style');\n    this.addShape(group, {\n      type: 'path',\n      id: this.getElementId('arc'),\n      name: 'annotation-arc',\n      attrs: __assign({\n        path: path\n      }, style)\n    });\n  };\n\n  return ArcAnnotation;\n}(GroupComponent);\n\nexport default ArcAnnotation;","map":{"version":3,"mappings":"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","names":["GroupComponent","getCirclePoint","__extends","ArcAnnotation","cfg","_super","getDefaultCfg","call","name","type","locationType","center","radius","startAngle","Math","PI","endAngle","style","stroke","lineWidth","group","renderArc","getLocation","startPoint","endPoint","largeFlag","path","x","y","middlePoint","push","getArcPath","get","addShape","id","getElementId","attrs"],"sourceRoot":"","sources":["../../src/annotation/arc.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}