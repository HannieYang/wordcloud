{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { each, filter, get, isFunction, isNil, isNumberEqual, mix, size } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport { getStatesStyle } from '../util/state';\nimport Theme from '../util/theme';\n\nvar AxisBase =\n/** @class */\nfunction (_super) {\n  __extends(AxisBase, _super);\n\n  function AxisBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AxisBase.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n\n    return __assign(__assign({}, cfg), {\n      name: 'axis',\n      ticks: [],\n      line: {},\n      tickLine: {},\n      subTickLine: null,\n      title: null,\n\n      /**\n       * 文本标签的配置项\n       */\n      label: {},\n\n      /**\n       * 垂直于坐标轴方向的因子，决定文本、title、tickLine 在坐标轴的哪一侧\n       */\n      verticalFactor: 1,\n      // 垂直方向限制的长度，对文本自适应有很大影响\n      verticalLimitLength: null,\n      overlapOrder: ['autoRotate', 'autoEllipsis', 'autoHide'],\n      tickStates: {},\n      optimize: {},\n      defaultCfg: {\n        line: {\n          // @type {Attrs} 坐标轴线的图形属性,如果设置成null，则不显示轴线\n          style: {\n            lineWidth: 1,\n            stroke: Theme.lineColor\n          }\n        },\n        tickLine: {\n          // @type {Attrs} 标注坐标线的图形属性\n          style: {\n            lineWidth: 1,\n            stroke: Theme.lineColor\n          },\n          alignTick: true,\n          length: 5,\n          displayWithLabel: true\n        },\n        subTickLine: {\n          // @type {Attrs} 标注坐标线的图形属性\n          style: {\n            lineWidth: 1,\n            stroke: Theme.lineColor\n          },\n          count: 4,\n          length: 2\n        },\n        label: {\n          autoRotate: true,\n          autoHide: false,\n          autoEllipsis: false,\n          style: {\n            fontSize: 12,\n            fill: Theme.textColor,\n            fontFamily: Theme.fontFamily,\n            fontWeight: 'normal'\n          },\n          offset: 10,\n          offsetX: 0,\n          offsetY: 0\n        },\n        title: {\n          autoRotate: true,\n          spacing: 5,\n          position: 'center',\n          style: {\n            fontSize: 12,\n            fill: Theme.textColor,\n            textBaseline: 'middle',\n            fontFamily: Theme.fontFamily,\n            textAlign: 'center'\n          },\n          iconStyle: {\n            fill: Theme.descriptionIconFill,\n            stroke: Theme.descriptionIconStroke\n          },\n          description: ''\n        },\n        tickStates: {\n          active: {\n            labelStyle: {\n              fontWeight: 500\n            },\n            tickLineStyle: {\n              lineWidth: 2\n            }\n          },\n          inactive: {\n            labelStyle: {\n              fill: Theme.uncheckedColor\n            }\n          }\n        },\n        // 针对大数据量进行优化配置\n        optimize: {\n          enable: true,\n          threshold: 400\n        }\n      },\n      theme: {}\n    });\n  };\n  /**\n   * 绘制组件\n   */\n\n\n  AxisBase.prototype.renderInner = function (group) {\n    if (this.get('line')) {\n      this.drawLine(group);\n    } // drawTicks 包括 drawLabels 和 drawTickLines\n\n\n    this.drawTicks(group);\n\n    if (this.get('title')) {\n      this.drawTitle(group);\n    }\n  }; // 实现 IList 接口\n\n\n  AxisBase.prototype.isList = function () {\n    return true;\n  };\n  /**\n   * 获取图例项\n   * @return {ListItem[]} 列表项集合\n   */\n\n\n  AxisBase.prototype.getItems = function () {\n    return this.get('ticks');\n  };\n  /**\n   * 设置列表项\n   * @param {ListItem[]} items 列表项集合\n   */\n\n\n  AxisBase.prototype.setItems = function (items) {\n    this.update({\n      ticks: items\n    });\n  };\n  /**\n   * 更新列表项\n   * @param {ListItem} item 列表项\n   * @param {object}   cfg  列表项\n   */\n\n\n  AxisBase.prototype.updateItem = function (item, cfg) {\n    mix(item, cfg);\n    this.clear(); // 由于单个图例项变化，会引起全局变化，所以全部更新\n\n    this.render();\n  };\n  /**\n   * 清空列表\n   */\n\n\n  AxisBase.prototype.clearItems = function () {\n    var itemGroup = this.getElementByLocalId('label-group');\n    itemGroup && itemGroup.clear();\n  };\n  /**\n   * 设置列表项的状态\n   * @param {ListItem} item  列表项\n   * @param {string}   state 状态名\n   * @param {boolean}  value 状态值, true, false\n   */\n\n\n  AxisBase.prototype.setItemState = function (item, state, value) {\n    item[state] = value;\n    this.updateTickStates(item); // 应用状态样式\n  };\n  /**\n   * 是否存在指定的状态\n   * @param {ListItem} item  列表项\n   * @param {boolean} state 状态名\n   */\n\n\n  AxisBase.prototype.hasState = function (item, state) {\n    return !!item[state];\n  };\n\n  AxisBase.prototype.getItemStates = function (item) {\n    var tickStates = this.get('tickStates');\n    var rst = [];\n    each(tickStates, function (v, k) {\n      if (item[k]) {\n        // item.selected\n        rst.push(k);\n      }\n    });\n    return rst;\n  };\n  /**\n   * 清楚所有列表项的状态\n   * @param {string} state 状态值\n   */\n\n\n  AxisBase.prototype.clearItemsState = function (state) {\n    var _this = this;\n\n    var items = this.getItemsByState(state);\n    each(items, function (item) {\n      _this.setItemState(item, state, false);\n    });\n  };\n  /**\n   * 根据状态获取图例项\n   * @param  {string}     state [description]\n   * @return {ListItem[]}       [description]\n   */\n\n\n  AxisBase.prototype.getItemsByState = function (state) {\n    var _this = this;\n\n    var items = this.getItems();\n    return filter(items, function (item) {\n      return _this.hasState(item, state);\n    });\n  };\n\n  AxisBase.prototype.getSidePoint = function (point, offset) {\n    var self = this;\n    var vector = self.getSideVector(offset, point);\n    return {\n      x: point.x + vector[0],\n      y: point.y + vector[1]\n    };\n  };\n\n  AxisBase.prototype.getTextAnchor = function (vector) {\n    var align;\n\n    if (isNumberEqual(vector[0], 0)) {\n      align = 'center';\n    } else if (vector[0] > 0) {\n      align = 'start';\n    } else if (vector[0] < 0) {\n      align = 'end';\n    }\n\n    return align;\n  };\n\n  AxisBase.prototype.getTextBaseline = function (vector) {\n    var base;\n\n    if (isNumberEqual(vector[1], 0)) {\n      base = 'middle';\n    } else if (vector[1] > 0) {\n      base = 'top';\n    } else if (vector[1] < 0) {\n      base = 'bottom';\n    }\n\n    return base;\n  };\n\n  AxisBase.prototype.processOverlap = function (labelGroup) {}; // 绘制坐标轴线\n\n\n  AxisBase.prototype.drawLine = function (group) {\n    var path = this.getLinePath();\n    var line = this.get('line'); // line 的判空在调用 drawLine 之前，不在这里判定\n\n    this.addShape(group, {\n      type: 'path',\n      id: this.getElementId('line'),\n      name: 'axis-line',\n      attrs: mix({\n        path: path\n      }, line.style)\n    });\n  };\n\n  AxisBase.prototype.getTickLineItems = function (ticks) {\n    var _this = this;\n\n    var tickLineItems = [];\n    var tickLine = this.get('tickLine');\n    var alignTick = tickLine.alignTick;\n    var tickLineLength = tickLine.length;\n    var tickSegment = 1;\n    var tickCount = ticks.length;\n\n    if (tickCount >= 2) {\n      tickSegment = ticks[1].value - ticks[0].value;\n    }\n\n    each(ticks, function (tick) {\n      var point = tick.point;\n\n      if (!alignTick) {\n        // tickLine 不同 tick 对齐时需要调整 point\n        point = _this.getTickPoint(tick.value - tickSegment / 2);\n      }\n\n      var endPoint = _this.getSidePoint(point, tickLineLength);\n\n      tickLineItems.push({\n        startPoint: point,\n        tickValue: tick.value,\n        endPoint: endPoint,\n        tickId: tick.id,\n        id: \"tickline-\" + tick.id\n      });\n    }); // 如果 tickLine 不居中对齐，则需要在最后面补充一个 tickLine\n    // if (!alignTick && tickCount > 0) {\n    //   const tick = ticks[tickCount - 1];\n    //   const point = this.getTickPoint(tick.value + tickSegment / 2);\n    // }\n\n    return tickLineItems;\n  };\n\n  AxisBase.prototype.getSubTickLineItems = function (tickLineItems) {\n    var subTickLineItems = [];\n    var subTickLine = this.get('subTickLine');\n    var subCount = subTickLine.count;\n    var tickLineCount = tickLineItems.length; // 刻度线的数量大于 2 时，才绘制子刻度\n\n    if (tickLineCount >= 2) {\n      for (var i = 0; i < tickLineCount - 1; i++) {\n        var pre = tickLineItems[i];\n        var next = tickLineItems[i + 1];\n\n        for (var j = 0; j < subCount; j++) {\n          var percent = (j + 1) / (subCount + 1);\n          var tickValue = (1 - percent) * pre.tickValue + percent * next.tickValue;\n          var point = this.getTickPoint(tickValue);\n          var endPoint = this.getSidePoint(point, subTickLine.length);\n          subTickLineItems.push({\n            startPoint: point,\n            endPoint: endPoint,\n            tickValue: tickValue,\n            id: \"sub-\" + pre.id + \"-\" + j\n          });\n        }\n      }\n    }\n\n    return subTickLineItems;\n  };\n\n  AxisBase.prototype.getTickLineAttrs = function (tickItem, type, index, tickItems) {\n    var style = this.get(type).style; // 保持和 grid 相同的数据结构\n\n    var item = {\n      points: [tickItem.startPoint, tickItem.endPoint]\n    };\n    var defaultTickLineStyle = get(this.get('theme'), ['tickLine', 'style'], {});\n    style = isFunction(style) ? mix({}, defaultTickLineStyle, style(item, index, tickItems)) : style;\n    var startPoint = tickItem.startPoint,\n        endPoint = tickItem.endPoint;\n    return __assign({\n      x1: startPoint.x,\n      y1: startPoint.y,\n      x2: endPoint.x,\n      y2: endPoint.y\n    }, style);\n  }; // 绘制坐标轴刻度线\n\n\n  AxisBase.prototype.drawTick = function (tickItem, tickLineGroup, type, index, tickItems) {\n    this.addShape(tickLineGroup, {\n      type: 'line',\n      id: this.getElementId(tickItem.id),\n      name: \"axis-\" + type,\n      attrs: this.getTickLineAttrs(tickItem, type, index, tickItems)\n    });\n  }; // 绘制坐标轴刻度线，包括子刻度线\n\n\n  AxisBase.prototype.drawTickLines = function (group) {\n    var _this = this;\n\n    var ticks = this.get('ticks');\n    var subTickLine = this.get('subTickLine');\n    var tickLineItems = this.getTickLineItems(ticks);\n    var tickLineGroup = this.addGroup(group, {\n      name: 'axis-tickline-group',\n      id: this.getElementId('tickline-group')\n    });\n    var tickCfg = this.get('tickLine');\n    each(tickLineItems, function (item, index) {\n      if (tickCfg.displayWithLabel) {\n        // 如果跟随 label 显示，则检测是否存在对应的 label\n        var labelId = _this.getElementId(\"label-\" + item.tickId);\n\n        if (group.findById(labelId)) {\n          _this.drawTick(item, tickLineGroup, 'tickLine', index, tickLineItems);\n        }\n      } else {\n        _this.drawTick(item, tickLineGroup, 'tickLine', index, tickLineItems);\n      }\n    });\n\n    if (subTickLine) {\n      var subTickLineItems_1 = this.getSubTickLineItems(tickLineItems);\n      each(subTickLineItems_1, function (item, index) {\n        _this.drawTick(item, tickLineGroup, 'subTickLine', index, subTickLineItems_1);\n      });\n    }\n  }; // 预处理 ticks 确定位置和补充 id\n\n\n  AxisBase.prototype.processTicks = function () {\n    var _this = this;\n\n    var ticks = this.get('ticks');\n    each(ticks, function (tick) {\n      tick.point = _this.getTickPoint(tick.value); // 补充 tick 的 id，为动画和更新做准备\n\n      if (isNil(tick.id)) {\n        // 默认使用 tick.name 作为id\n        tick.id = tick.name;\n      }\n    });\n  }; // 绘制 ticks 包括文本和 tickLine\n\n\n  AxisBase.prototype.drawTicks = function (group) {\n    var _this = this;\n\n    this.optimizeTicks();\n    this.processTicks();\n\n    if (this.get('label')) {\n      this.drawLabels(group);\n    }\n\n    if (this.get('tickLine')) {\n      this.drawTickLines(group);\n    }\n\n    var ticks = this.get('ticks');\n    each(ticks, function (tick) {\n      _this.applyTickStates(tick, group);\n    });\n  };\n  /**\n   * 根据 optimize 配置对 ticks 进行抽样，对抽样过后的 ticks 才进行真实的渲染\n   */\n\n\n  AxisBase.prototype.optimizeTicks = function () {\n    var optimize = this.get('optimize');\n    var ticks = this.get('ticks');\n\n    if (optimize && optimize.enable && optimize.threshold > 0) {\n      var len = size(ticks);\n\n      if (len > optimize.threshold) {\n        var page_1 = Math.ceil(len / optimize.threshold);\n        var optimizedTicks = ticks.filter(function (tick, idx) {\n          return idx % page_1 === 0;\n        });\n        this.set('ticks', optimizedTicks);\n        this.set('originalTicks', ticks);\n      }\n    }\n  }; // 获取 label 的配置项\n\n\n  AxisBase.prototype.getLabelAttrs = function (tick, index, ticks) {\n    var labelCfg = this.get('label');\n    var offset = labelCfg.offset,\n        offsetX = labelCfg.offsetX,\n        offsetY = labelCfg.offsetY,\n        rotate = labelCfg.rotate,\n        formatter = labelCfg.formatter;\n    var point = this.getSidePoint(tick.point, offset);\n    var vector = this.getSideVector(offset, point);\n    var text = formatter ? formatter(tick.name, tick, index) : tick.name;\n    var style = labelCfg.style;\n    style = isFunction(style) ? get(this.get('theme'), ['label', 'style'], {}) : style;\n    var attrs = mix({\n      x: point.x + offsetX,\n      y: point.y + offsetY,\n      text: text,\n      textAlign: this.getTextAnchor(vector),\n      textBaseline: this.getTextBaseline(vector)\n    }, style);\n\n    if (rotate) {\n      attrs.matrix = getMatrixByAngle(point, rotate);\n    }\n\n    return attrs;\n  }; // 绘制文本\n\n\n  AxisBase.prototype.drawLabels = function (group) {\n    var _this = this;\n\n    var ticks = this.get('ticks');\n    var labelGroup = this.addGroup(group, {\n      name: 'axis-label-group',\n      id: this.getElementId('label-group')\n    });\n    each(ticks, function (tick, index) {\n      _this.addShape(labelGroup, {\n        type: 'text',\n        name: 'axis-label',\n        id: _this.getElementId(\"label-\" + tick.id),\n        attrs: _this.getLabelAttrs(tick, index, ticks),\n        delegateObject: {\n          tick: tick,\n          item: tick,\n          index: index\n        }\n      });\n    });\n    this.processOverlap(labelGroup); // 处理完后再进行 style 回调处理\n\n    var labels = labelGroup.getChildren();\n    var defaultLabelStyle = get(this.get('theme'), ['label', 'style'], {});\n\n    var _a = this.get('label'),\n        style = _a.style,\n        formatter = _a.formatter;\n\n    if (isFunction(style)) {\n      var afterProcessTicks_1 = labels.map(function (label) {\n        return get(label.get('delegateObject'), 'tick');\n      });\n      each(labels, function (label, index) {\n        var tick = label.get('delegateObject').tick;\n        var text = formatter ? formatter(tick.name, tick, index) : tick.name;\n        var newStyle = mix({}, defaultLabelStyle, style(text, index, afterProcessTicks_1));\n        label.attr(newStyle);\n      });\n    }\n  }; // 标题的属性\n\n\n  AxisBase.prototype.getTitleAttrs = function () {\n    var titleCfg = this.get('title');\n    var style = titleCfg.style,\n        position = titleCfg.position,\n        offset = titleCfg.offset,\n        _a = titleCfg.spacing,\n        spacing = _a === void 0 ? 0 : _a,\n        autoRotate = titleCfg.autoRotate;\n    var titleHeight = style.fontSize;\n    var percent = 0.5;\n\n    if (position === 'start') {\n      percent = 0;\n    } else if (position === 'end') {\n      percent = 1;\n    }\n\n    var point = this.getTickPoint(percent); // 标题对应的坐标轴上的点\n    // 如果没有指定 titleOffset 也没有渲染 label，这里需要自动计算 offset\n\n    var titlePoint = this.getSidePoint(point, offset || spacing + titleHeight / 2); // 标题的点\n\n    var attrs = mix({\n      x: titlePoint.x,\n      y: titlePoint.y,\n      text: titleCfg.text\n    }, style);\n    var rotate = titleCfg.rotate; // rotate 是角度值\n\n    var angle = rotate;\n\n    if (isNil(rotate) && autoRotate) {\n      // 用户没有设定旋转角度，同时设置自动旋转\n      var vector = this.getAxisVector(point);\n      var v1 = [1, 0]; // 水平方向的向量\n\n      angle = ext.angleTo(vector, v1, true);\n    }\n\n    if (angle) {\n      var matrix = getMatrixByAngle(titlePoint, angle);\n      attrs.matrix = matrix;\n    }\n\n    return attrs;\n  }; // 绘制标题\n\n\n  AxisBase.prototype.drawTitle = function (group) {\n    var _a;\n\n    var titleAttrs = this.getTitleAttrs();\n    var titleShape = this.addShape(group, {\n      type: 'text',\n      id: this.getElementId('title'),\n      name: 'axis-title',\n      attrs: titleAttrs\n    }); // description字段存在时，显示icon\n\n    if ((_a = this.get('title')) === null || _a === void 0 ? void 0 : _a.description) {\n      this.drawDescriptionIcon(group, titleShape, titleAttrs.matrix);\n    }\n  };\n\n  AxisBase.prototype.drawDescriptionIcon = function (group, titleShape, matrix) {\n    var descriptionShape = this.addGroup(group, {\n      name: 'axis-description',\n      id: this.getElementById('description')\n    });\n\n    var _a = titleShape.getBBox(),\n        maxX = _a.maxX,\n        maxY = _a.maxY,\n        height = _a.height;\n\n    var iconStyle = this.get('title').iconStyle;\n    var spacing = 4; // 设置icon与文本之间距离\n\n    var r = height / 2;\n    var lineWidth = r / 6;\n    var startX = maxX + spacing;\n    var startY = maxY - height / 2; // 绘制 information icon 路径\n    // 外圆环path\n\n    var _b = [startX + r, startY - r],\n        x0 = _b[0],\n        y0 = _b[1];\n    var _c = [x0 + r, y0 + r],\n        x1 = _c[0],\n        y1 = _c[1];\n    var _d = [x0, y1 + r],\n        x2 = _d[0],\n        y2 = _d[1];\n    var _e = [startX, y0 + r],\n        x3 = _e[0],\n        y3 = _e[1]; // i path\n\n    var _f = [startX + r, startY - height / 4],\n        x4 = _f[0],\n        y4 = _f[1];\n    var _g = [x4, y4 + lineWidth],\n        x5 = _g[0],\n        y5 = _g[1];\n    var _h = [x5, y5 + lineWidth],\n        x6 = _h[0],\n        y6 = _h[1];\n    var _j = [x6, y6 + r * 3 / 4],\n        x7 = _j[0],\n        y7 = _j[1];\n    this.addShape(descriptionShape, {\n      type: 'path',\n      id: this.getElementId('title-description-icon'),\n      name: 'axis-title-description-icon',\n      attrs: __assign({\n        path: [['M', x0, y0], ['A', r, r, 0, 0, 1, x1, y1], ['A', r, r, 0, 0, 1, x2, y2], ['A', r, r, 0, 0, 1, x3, y3], ['A', r, r, 0, 0, 1, x0, y0], ['M', x4, y4], ['L', x5, y5], ['M', x6, y6], ['L', x7, y7]],\n        lineWidth: lineWidth,\n        matrix: matrix\n      }, iconStyle)\n    }); // 点击热区，设置透明矩形\n\n    this.addShape(descriptionShape, {\n      type: 'rect',\n      id: this.getElementId('title-description-rect'),\n      name: 'axis-title-description-rect',\n      attrs: {\n        x: startX,\n        y: startY - height / 2,\n        width: height,\n        height: height,\n        stroke: '#000',\n        fill: '#000',\n        opacity: 0,\n        matrix: matrix,\n        cursor: 'pointer'\n      }\n    });\n  };\n\n  AxisBase.prototype.applyTickStates = function (tick, group) {\n    var states = this.getItemStates(tick);\n\n    if (states.length) {\n      var tickStates = this.get('tickStates'); // 分别更新 label 和 tickLine\n\n      var labelId = this.getElementId(\"label-\" + tick.id);\n      var labelShape = group.findById(labelId);\n\n      if (labelShape) {\n        var labelStateStyle = getStatesStyle(tick, 'label', tickStates);\n        labelStateStyle && labelShape.attr(labelStateStyle);\n      }\n\n      var tickLineId = this.getElementId(\"tickline-\" + tick.id);\n      var tickLineShape = group.findById(tickLineId);\n\n      if (tickLineShape) {\n        var tickLineStateStyle = getStatesStyle(tick, 'tickLine', tickStates);\n        tickLineStateStyle && tickLineShape.attr(tickLineStateStyle);\n      }\n    }\n  };\n\n  AxisBase.prototype.updateTickStates = function (tick) {\n    var states = this.getItemStates(tick);\n    var tickStates = this.get('tickStates');\n    var labelCfg = this.get('label');\n    var labelShape = this.getElementByLocalId(\"label-\" + tick.id);\n    var tickLineCfg = this.get('tickLine');\n    var tickLineShape = this.getElementByLocalId(\"tickline-\" + tick.id);\n\n    if (states.length) {\n      if (labelShape) {\n        var labelStateStyle = getStatesStyle(tick, 'label', tickStates);\n        labelStateStyle && labelShape.attr(labelStateStyle);\n      }\n\n      if (tickLineShape) {\n        var tickLineStateStyle = getStatesStyle(tick, 'tickLine', tickStates);\n        tickLineStateStyle && tickLineShape.attr(tickLineStateStyle);\n      }\n    } else {\n      if (labelShape) {\n        labelShape.attr(labelCfg.style);\n      }\n\n      if (tickLineShape) {\n        tickLineShape.attr(tickLineCfg.style);\n      }\n    }\n  };\n\n  return AxisBase;\n}(GroupComponent);\n\nexport default AxisBase;","map":{"version":3,"mappings":"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","names":["ext","each","filter","get","isFunction","isNil","isNumberEqual","mix","size","GroupComponent","getMatrixByAngle","getStatesStyle","Theme","__extends","AxisBase","cfg","_super","getDefaultCfg","call","name","ticks","line","tickLine","subTickLine","title","label","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","defaultCfg","style","lineWidth","stroke","lineColor","alignTick","length","displayWithLabel","count","autoRotate","autoHide","autoEllipsis","fontSize","fill","textColor","fontFamily","fontWeight","offset","offsetX","offsetY","spacing","position","textBaseline","textAlign","iconStyle","descriptionIconFill","descriptionIconStroke","description","active","labelStyle","tickLineStyle","inactive","uncheckedColor","enable","threshold","theme","group","drawLine","drawTicks","drawTitle","items","update","item","clear","render","itemGroup","getElementByLocalId","state","value","updateTickStates","rst","v","k","push","getItemsByState","_this","setItemState","getItems","hasState","point","self","vector","getSideVector","x","y","align","base","labelGroup","path","getLinePath","addShape","type","id","getElementId","attrs","tickLineItems","tickLineLength","tickSegment","tickCount","tick","getTickPoint","endPoint","getSidePoint","startPoint","tickValue","tickId","subTickLineItems","subCount","tickLineCount","i","pre","next","j","percent","tickItem","index","tickItems","points","defaultTickLineStyle","x1","y1","x2","y2","tickLineGroup","getTickLineAttrs","getTickLineItems","addGroup","tickCfg","labelId","findById","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","len","page_1","Math","ceil","optimizedTicks","idx","set","labelCfg","rotate","formatter","text","getTextAnchor","getTextBaseline","matrix","getLabelAttrs","delegateObject","processOverlap","labels","getChildren","defaultLabelStyle","afterProcessTicks_1","map","newStyle","attr","titleCfg","_a","titleHeight","titlePoint","angle","getAxisVector","v1","angleTo","titleAttrs","getTitleAttrs","titleShape","drawDescriptionIcon","descriptionShape","getElementById","getBBox","maxX","maxY","height","r","startX","startY","x0","y0","x3","y3","x4","y4","x5","y5","x6","y6","x7","y7","width","opacity","cursor","states","getItemStates","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg"],"sourceRoot":"","sources":["../../src/axis/base.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}