{"ast":null,"code":"'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper'); // Triangle\n\n\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\n\n\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n  var relaxMin = false;\n  var relaxMax = false;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n  var range = max - min;\n  var step = range / (size - 1); // Relax?\n\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || arr.length === 0) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n  var range = max - min;\n  var step = range / (size - 1);\n\n  if (range === 0) {\n    // Special case...\n    return [{\n      x: min,\n      y: 1\n    }];\n  } // Good to go\n\n\n  var buckets = [];\n\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width - 1] - partialArea[width - 2];\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x); // Totally outside?\n\n    if (bucket + width < 0 || bucket - width >= buckets.length) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = bucket + width - end;\n    var spilledAreaLeft = partialArea[-width - 1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width - 1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    } // Add grads\n\n\n    var startGradPos = Math.max(0, bucket - width + 1);\n\n    if (helper.inside(0, buckets.length - 1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n\n    if (helper.inside(0, buckets.length - 1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n\n    if (helper.inside(0, buckets.length - 1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n    bucket.y = accumulator;\n    area += accumulator;\n  }); // Normalize\n\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n  var accumulator = 0;\n\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i / width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || pdf.length === 0) {\n    return undefined;\n  }\n\n  var expected = 0;\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || pdf.length === 0) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || pdf.length === 0) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n  return Math.pow(2, entropy);\n};","map":{"version":3,"names":["DEFAULT_SIZE","DEFAULT_WIDTH","LN_2","Math","log","self","module","exports","helper","require","kernel","x","abs","getUnifiedMinMax","arr","options","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","width","isNumber","size","min","findMinMulti","max","findMaxMulti","range","step","create","length","normalizedMinMax","y","buckets","i","push","xToBucket","floor","partialArea","generatePartialAreas","fullArea","c","initalValue","forEach","bucket","start","mid","end","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","weight","startGradPos","inside","accumulator","gradAccumulator","area","partialAreas","getExpectedValueFromPdf","pdf","undefined","expected","obj","getXWithLeftTailArea","last","getPerplexity","entropy","ln","isFinite","pow"],"sources":["C:/Users/Administrator/Desktop/wordcloud_new/node_modules/pdfast/src/index.js"],"sourcesContent":["'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n"],"mappings":"AAAA;;AAEA,IAAIA,YAAY,GAAG,EAAnB;AACA,IAAIC,aAAa,GAAG,CAApB;AAEA,IAAIC,IAAI,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,CAAX;AACA,IAAIC,IAAI,GAAGC,MAAM,CAACC,OAAlB;;AAEA,IAAIC,MAAM,GAAGC,OAAO,CAAC,UAAD,CAApB,C,CAEA;;;AACA,SAASC,MAAT,CAAgBC,CAAhB,EAAmB;EACjB,OAAO,IAAIR,IAAI,CAACS,GAAL,CAASD,CAAT,CAAX;AACD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACAL,MAAM,CAACC,OAAP,CAAeM,gBAAf,GAAkC,UAAUC,GAAV,EAAeC,OAAf,EAAwB;EACxD,OAAOV,IAAI,CAACW,qBAAL,CAA2B,CAACF,GAAD,CAA3B,EAAkCC,OAAlC,CAAP;AACD,CAFD;;AAIAT,MAAM,CAACC,OAAP,CAAeS,qBAAf,GAAuC,UAAUC,QAAV,EAAoBF,OAApB,EAA6B;EAClEA,OAAO,GAAGA,OAAO,IAAI,EAArB;EAEA,IAAIG,QAAQ,GAAG,KAAf;EACA,IAAIC,QAAQ,GAAG,KAAf;EAEA,IAAIC,KAAK,GAAGZ,MAAM,CAACa,QAAP,CAAgBN,OAAO,CAACK,KAAxB,IAAiCL,OAAO,CAACK,KAAzC,GAAiDnB,aAA7D;EACA,IAAIqB,IAAI,GAAGd,MAAM,CAACa,QAAP,CAAgBN,OAAO,CAACO,IAAxB,IAAgCP,OAAO,CAACO,IAAxC,GAA+CtB,YAA1D;EACA,IAAIuB,GAAG,GAAGf,MAAM,CAACa,QAAP,CAAgBN,OAAO,CAACQ,GAAxB,IAA+BR,OAAO,CAACQ,GAAvC,IAA8CL,QAAQ,GAAG,IAAX,EAAiBV,MAAM,CAACgB,YAAP,CAAoBP,QAApB,CAA/D,CAAV;EACA,IAAIQ,GAAG,GAAGjB,MAAM,CAACa,QAAP,CAAgBN,OAAO,CAACU,GAAxB,IAA+BV,OAAO,CAACU,GAAvC,IAA8CN,QAAQ,GAAG,IAAX,EAAiBX,MAAM,CAACkB,YAAP,CAAoBT,QAApB,CAA/D,CAAV;EAEA,IAAIU,KAAK,GAAGF,GAAG,GAAGF,GAAlB;EACA,IAAIK,IAAI,GAAGD,KAAK,IAAIL,IAAI,GAAG,CAAX,CAAhB,CAZkE,CAclE;;EACA,IAAIJ,QAAJ,EAAc;IACZK,GAAG,GAAGA,GAAG,GAAG,IAAIH,KAAJ,GAAYQ,IAAxB;EACD;;EACD,IAAIT,QAAJ,EAAc;IACZM,GAAG,GAAGA,GAAG,GAAG,IAAIL,KAAJ,GAAYQ,IAAxB;EACD;;EAED,OAAO;IACLL,GAAG,EAAEA,GADA;IAELE,GAAG,EAAEA;EAFA,CAAP;AAID,CA1BD;;AA4BAnB,MAAM,CAACC,OAAP,CAAesB,MAAf,GAAwB,UAAUf,GAAV,EAAeC,OAAf,EAAwB;EAC9CA,OAAO,GAAGA,OAAO,IAAI,EAArB;;EAEA,IAAI,CAACD,GAAD,IAASA,GAAG,CAACgB,MAAJ,KAAe,CAA5B,EAAgC;IAC9B,OAAO,EAAP;EACD;;EAED,IAAIR,IAAI,GAAGd,MAAM,CAACa,QAAP,CAAgBN,OAAO,CAACO,IAAxB,IAAgCP,OAAO,CAACO,IAAxC,GAA+CtB,YAA1D;EACA,IAAIoB,KAAK,GAAGZ,MAAM,CAACa,QAAP,CAAgBN,OAAO,CAACK,KAAxB,IAAiCL,OAAO,CAACK,KAAzC,GAAiDnB,aAA7D;EACA,IAAI8B,gBAAgB,GAAG1B,IAAI,CAACQ,gBAAL,CAAsBC,GAAtB,EAA2B;IAChDQ,IAAI,EAAEA,IAD0C;IAEhDF,KAAK,EAAEA,KAFyC;IAGhDG,GAAG,EAAER,OAAO,CAACQ,GAHmC;IAIhDE,GAAG,EAAEV,OAAO,CAACU;EAJmC,CAA3B,CAAvB;EAOA,IAAIF,GAAG,GAAGQ,gBAAgB,CAACR,GAA3B;EACA,IAAIE,GAAG,GAAGM,gBAAgB,CAACN,GAA3B;EAEA,IAAIE,KAAK,GAAGF,GAAG,GAAGF,GAAlB;EACA,IAAIK,IAAI,GAAGD,KAAK,IAAIL,IAAI,GAAG,CAAX,CAAhB;;EACA,IAAIK,KAAK,KAAK,CAAd,EAAiB;IACf;IACA,OAAO,CAAC;MAAChB,CAAC,EAAEY,GAAJ;MAASS,CAAC,EAAE;IAAZ,CAAD,CAAP;EACD,CAxB6C,CA0B9C;;;EAEA,IAAIC,OAAO,GAAG,EAAd;;EACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,IAApB,EAA0BY,CAAC,EAA3B,EAA+B;IAC7BD,OAAO,CAACE,IAAR,CAAa;MACXxB,CAAC,EAAEY,GAAG,GAAGW,CAAC,GAAGN,IADF;MAEXI,CAAC,EAAE;IAFQ,CAAb;EAID;;EAED,IAAII,SAAS,GAAG,UAAUzB,CAAV,EAAa;IAC3B,OAAOR,IAAI,CAACkC,KAAL,CAAW,CAAC1B,CAAC,GAAGY,GAAL,IAAYK,IAAvB,CAAP;EACD,CAFD;;EAIA,IAAIU,WAAW,GAAGC,oBAAoB,CAAC7B,MAAD,EAASU,KAAT,CAAtC;EACA,IAAIoB,QAAQ,GAAGF,WAAW,CAAClB,KAAD,CAA1B;EACA,IAAIqB,CAAC,GAAGH,WAAW,CAAClB,KAAK,GAAC,CAAP,CAAX,GAAuBkB,WAAW,CAAClB,KAAK,GAAC,CAAP,CAA1C;EAEA,IAAIsB,WAAW,GAAG,CAAlB;EACA5B,GAAG,CAAC6B,OAAJ,CAAY,UAAUhC,CAAV,EAAa;IACvB,IAAIiC,MAAM,GAAGR,SAAS,CAACzB,CAAD,CAAtB,CADuB,CAGvB;;IACA,IAAKiC,MAAM,GAAGxB,KAAT,GAAiB,CAAlB,IAAyBwB,MAAM,GAAGxB,KAAT,IAAkBa,OAAO,CAACH,MAAvD,EAAgE;MAC9D;IACD;;IAED,IAAIe,KAAK,GAAG1C,IAAI,CAACsB,GAAL,CAASmB,MAAM,GAAGxB,KAAlB,EAAyB,CAAzB,CAAZ;IACA,IAAI0B,GAAG,GAAGF,MAAV;IACA,IAAIG,GAAG,GAAG5C,IAAI,CAACoB,GAAL,CAASqB,MAAM,GAAGxB,KAAlB,EAAyBa,OAAO,CAACH,MAAR,GAAiB,CAA1C,CAAV;IAEA,IAAIkB,cAAc,GAAGH,KAAK,IAAID,MAAM,GAAGxB,KAAb,CAA1B;IACA,IAAI6B,eAAe,GAAIL,MAAM,GAAGxB,KAAV,GAAmB2B,GAAzC;IACA,IAAIG,eAAe,GAAGZ,WAAW,CAAC,CAAClB,KAAD,GAAO,CAAP,GAAW4B,cAAZ,CAAX,IAA0C,CAAhE;IACA,IAAIG,gBAAgB,GAAGb,WAAW,CAAC,CAAClB,KAAD,GAAO,CAAP,GAAW6B,eAAZ,CAAX,IAA2C,CAAlE;IACA,IAAIG,MAAM,GAAGZ,QAAQ,IAAIA,QAAQ,GAAGU,eAAX,GAA6BC,gBAAjC,CAArB;;IAEA,IAAIH,cAAc,GAAG,CAArB,EAAwB;MACtBN,WAAW,IAAIU,MAAM,IAAIJ,cAAc,GAAG,CAArB,CAAN,GAAgCP,CAA/C;IACD,CApBsB,CAsBvB;;;IACA,IAAIY,YAAY,GAAGlD,IAAI,CAACsB,GAAL,CAAS,CAAT,EAAYmB,MAAM,GAACxB,KAAP,GAAa,CAAzB,CAAnB;;IACA,IAAIZ,MAAM,CAAC8C,MAAP,CAAc,CAAd,EAAiBrB,OAAO,CAACH,MAAR,GAAe,CAAhC,EAAmCuB,YAAnC,CAAJ,EAAsD;MACpDpB,OAAO,CAACoB,YAAD,CAAP,CAAsBrB,CAAtB,IAA2BoB,MAAM,GAAG,CAAT,GAAaX,CAAxC;IACD;;IACD,IAAIjC,MAAM,CAAC8C,MAAP,CAAc,CAAd,EAAiBrB,OAAO,CAACH,MAAR,GAAe,CAAhC,EAAmCgB,GAAG,GAAG,CAAzC,CAAJ,EAAiD;MAC/Cb,OAAO,CAACa,GAAG,GAAG,CAAP,CAAP,CAAiBd,CAAjB,IAAsBoB,MAAM,GAAG,CAAT,GAAaX,CAAnC;IACD;;IACD,IAAIjC,MAAM,CAAC8C,MAAP,CAAc,CAAd,EAAiBrB,OAAO,CAACH,MAAR,GAAe,CAAhC,EAAmCiB,GAAG,GAAG,CAAzC,CAAJ,EAAiD;MAC/Cd,OAAO,CAACc,GAAG,GAAG,CAAP,CAAP,CAAiBf,CAAjB,IAAsBoB,MAAM,GAAG,CAAT,GAAaX,CAAnC;IACD;EACF,CAjCD;EAmCA,IAAIc,WAAW,GAAGb,WAAlB;EACA,IAAIc,eAAe,GAAG,CAAtB;EACA,IAAIC,IAAI,GAAG,CAAX;EACAxB,OAAO,CAACU,OAAR,CAAgB,UAAUC,MAAV,EAAkB;IAChCY,eAAe,IAAIZ,MAAM,CAACZ,CAA1B;IACAuB,WAAW,IAAIC,eAAf;IAEAZ,MAAM,CAACZ,CAAP,GAAWuB,WAAX;IACAE,IAAI,IAAIF,WAAR;EACD,CAND,EAnF8C,CA2F9C;;EACA,IAAIE,IAAI,GAAG,CAAX,EAAc;IACZxB,OAAO,CAACU,OAAR,CAAgB,UAAUC,MAAV,EAAkB;MAChCA,MAAM,CAACZ,CAAP,IAAYyB,IAAZ;IACD,CAFD;EAGD;;EAED,OAAOxB,OAAP;AACD,CAnGD;;AAqGA,SAASM,oBAAT,CAA8B7B,MAA9B,EAAsCU,KAAtC,EAA6C;EAC3C,IAAIsC,YAAY,GAAG,EAAnB;EAEA,IAAIH,WAAW,GAAG,CAAlB;;EACA,KAAK,IAAIrB,CAAC,GAAG,CAACd,KAAd,EAAqBc,CAAC,IAAId,KAA1B,EAAiCc,CAAC,EAAlC,EAAsC;IACpCqB,WAAW,IAAI7C,MAAM,CAACwB,CAAC,GAACd,KAAH,CAArB;IACAsC,YAAY,CAACxB,CAAD,CAAZ,GAAkBqB,WAAlB;EACD;;EAED,OAAOG,YAAP;AACD;;AAEDpD,MAAM,CAACC,OAAP,CAAeoD,uBAAf,GAAyC,UAAUC,GAAV,EAAe;EACtD,IAAI,CAACA,GAAD,IAASA,GAAG,CAAC9B,MAAJ,KAAe,CAA5B,EAAgC;IAC9B,OAAO+B,SAAP;EACD;;EAED,IAAIC,QAAQ,GAAG,CAAf;EAEAF,GAAG,CAACjB,OAAJ,CAAY,UAAUoB,GAAV,EAAe;IACzBD,QAAQ,IAAIC,GAAG,CAACpD,CAAJ,GAAQoD,GAAG,CAAC/B,CAAxB;EACD,CAFD;EAIA,OAAO8B,QAAP;AACD,CAZD;;AAcAxD,MAAM,CAACC,OAAP,CAAeyD,oBAAf,GAAsC,UAAUJ,GAAV,EAAeH,IAAf,EAAqB;EACzD,IAAI,CAACG,GAAD,IAASA,GAAG,CAAC9B,MAAJ,KAAe,CAA5B,EAAgC;IAC9B,OAAO+B,SAAP;EACD;;EAED,IAAIN,WAAW,GAAG,CAAlB;EACA,IAAIU,IAAI,GAAG,CAAX;;EACA,KAAK,IAAI/B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0B,GAAG,CAAC9B,MAAxB,EAAgCI,CAAC,EAAjC,EAAqC;IACnC+B,IAAI,GAAG/B,CAAP;IACAqB,WAAW,IAAIK,GAAG,CAAC1B,CAAD,CAAH,CAAOF,CAAtB;;IAEA,IAAIuB,WAAW,IAAIE,IAAnB,EAAyB;MACvB;IACD;EACF;;EAED,OAAOG,GAAG,CAACK,IAAD,CAAH,CAAUtD,CAAjB;AACD,CAjBD;;AAmBAL,MAAM,CAACC,OAAP,CAAe2D,aAAf,GAA+B,UAAUN,GAAV,EAAe;EAC5C,IAAI,CAACA,GAAD,IAASA,GAAG,CAAC9B,MAAJ,KAAe,CAA5B,EAAgC;IAC9B,OAAO+B,SAAP;EACD;;EAED,IAAIM,OAAO,GAAG,CAAd;EACAP,GAAG,CAACjB,OAAJ,CAAY,UAAUoB,GAAV,EAAe;IACzB,IAAIK,EAAE,GAAGjE,IAAI,CAACC,GAAL,CAAS2D,GAAG,CAAC/B,CAAb,CAAT;;IAEA,IAAIqC,QAAQ,CAACD,EAAD,CAAZ,EAAkB;MAChBD,OAAO,IAAIJ,GAAG,CAAC/B,CAAJ,GAAQoC,EAAnB;IACD;EACF,CAND;EAOAD,OAAO,GAAG,CAACA,OAAD,GAAWjE,IAArB;EAEA,OAAOC,IAAI,CAACmE,GAAL,CAAS,CAAT,EAAYH,OAAZ,CAAP;AACD,CAhBD"},"metadata":{},"sourceType":"script"}