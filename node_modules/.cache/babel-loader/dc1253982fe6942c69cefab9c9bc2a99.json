{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { deepMix, isNil, get } from '@antv/util';\n/**\n * @ignore\n * 获取 Shape 的图形属性\n * @param cfg\n * @param isStroke 是否需要描边\n * @param isFill 是否需要填充\n * @param [sizeName] 可选，表示图形大小的属性，lineWidth 或者 r\n * @returns\n */\n\nexport function getStyle(cfg, isStroke, isFill, sizeName) {\n  if (sizeName === void 0) {\n    sizeName = '';\n  }\n\n  var _a = cfg.style,\n      style = _a === void 0 ? {} : _a,\n      defaultStyle = cfg.defaultStyle,\n      color = cfg.color,\n      size = cfg.size;\n\n  var attrs = __assign(__assign({}, defaultStyle), style);\n\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        // 如果用户在 style() 中配置了 stroke，则以用户配置的为准\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        // 如果用户在 style() 中配置了 fill\n        attrs.fill = color;\n      }\n    }\n  }\n\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    // 如果用户在 style() 中配置了 lineWidth 或者 r 属性\n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n/**\n * 获取 矩形背景 的样式\n * @param cfg\n */\n\nexport function getBackgroundRectStyle(cfg) {\n  return deepMix({}, {\n    // 默认背景色，copy from active-region\n    fill: '#CCD6EC',\n    fillOpacity: 0.3\n  }, get(cfg, ['background', 'style']));\n}","map":{"version":3,"mappings":";AAAA,SAASA,OAAT,EAAkBC,KAAlB,EAAyBC,GAAzB,QAAoC,YAApC;AAGA;;;;;;;;;;AASA,OAAM,SAAUC,QAAV,CAAmBC,GAAnB,EAAmCC,QAAnC,EAAsDC,MAAtD,EAAuEC,QAAvE,EAA4F;EAArB;IAAAA;EAAqB;;EACxF,SAA0CH,GAAG,MAA7C;EAAA,SAAK,mBAAG,EAAH,GAAKI,EAAV;EAAA,IAAYC,YAAY,GAAkBL,GAAG,aAA7C;EAAA,IAA0BM,KAAK,GAAWN,GAAG,MAA7C;EAAA,IAAiCO,IAAI,GAAKP,GAAG,KAA7C;;EACR,IAAMQ,KAAK,yBACNH,YADM,GAENI,KAFM,CAAX;;EAIA,IAAIH,KAAJ,EAAW;IACT,IAAIL,QAAJ,EAAc;MACZ,IAAI,CAACQ,KAAK,CAACC,MAAX,EAAmB;QACjB;QACAF,KAAK,CAACE,MAAN,GAAeJ,KAAf;MACD;IACF;;IAED,IAAIJ,MAAJ,EAAY;MACV,IAAI,CAACO,KAAK,CAACE,IAAX,EAAiB;QACf;QACAH,KAAK,CAACG,IAAN,GAAaL,KAAb;MACD;IACF;EACF;;EACD,IAAIH,QAAQ,IAAIN,KAAK,CAACY,KAAK,CAACN,QAAD,CAAN,CAAjB,IAAsC,CAACN,KAAK,CAACU,IAAD,CAAhD,EAAwD;IACtD;IACAC,KAAK,CAACL,QAAD,CAAL,GAAkBI,IAAlB;EACD;;EAED,OAAOC,KAAP;AACD;AAED;;;;;AAIA,OAAM,SAAUI,sBAAV,CAAiCZ,GAAjC,EAAgD;EACpD,OAAOJ,OAAO,CACZ,EADY,EAEZ;IACE;IACAe,IAAI,EAAE,SAFR;IAGEE,WAAW,EAAE;EAHf,CAFY,EAOZf,GAAG,CAACE,GAAD,EAAM,CAAC,YAAD,EAAe,OAAf,CAAN,CAPS,CAAd;AASD","names":["deepMix","isNil","get","getStyle","cfg","isStroke","isFill","sizeName","_a","defaultStyle","color","size","attrs","style","stroke","fill","getBackgroundRectStyle","fillOpacity"],"sourceRoot":"","sources":["../../../../src/geometry/shape/util/get-style.ts"],"sourcesContent":["import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n * 获取 Shape 的图形属性\n * @param cfg\n * @param isStroke 是否需要描边\n * @param isFill 是否需要填充\n * @param [sizeName] 可选，表示图形大小的属性，lineWidth 或者 r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        // 如果用户在 style() 中配置了 stroke，则以用户配置的为准\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        // 如果用户在 style() 中配置了 fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    // 如果用户在 style() 中配置了 lineWidth 或者 r 属性\n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n * 获取 矩形背景 的样式\n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // 默认背景色，copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n"]},"metadata":{},"sourceType":"module"}