{"ast":null,"code":"import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n/**\n * @desc 股票图数据处理\n * @param data\n * @param yField\n */\n\nexport function getStockData(data, yField) {\n  return map(data, function (obj) {\n    if (isArray(yField)) {\n      var open_1 = yField[0],\n          close_1 = yField[1],\n          high = yField[2],\n          low = yField[3];\n      obj[TREND_FIELD] = obj[open_1] <= obj[close_1] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open_1], obj[close_1], obj[high], obj[low]];\n    }\n\n    return obj;\n  });\n}","map":{"version":3,"mappings":"AAAA,SAASA,OAAT,EAAkBC,GAAlB,QAA6B,YAA7B;AACA,SAASC,WAAT,EAAsBC,UAAtB,EAAkCC,QAAlC,EAA4CC,OAA5C,QAA2D,YAA3D;AAEA;;;;;;AAKA,OAAM,SAAUC,YAAV,CAAuBC,IAAvB,EAA6BC,MAA7B,EAAmC;EACvC,OAAOP,GAAG,CAACM,IAAD,EAAO,UAACE,GAAD,EAAI;IACnB,IAAIT,OAAO,CAACQ,MAAD,CAAX,EAAqB;MACZ,UAAI,GAAsBA,MAAM,GAAhC;MAAA,IAAME,OAAK,GAAeF,MAAM,GAAhC;MAAA,IAAaG,IAAI,GAASH,MAAM,GAAhC;MAAA,IAAmBI,GAAG,GAAIJ,MAAM,GAAhC;MACPC,GAAG,CAACP,WAAD,CAAH,GAAmBO,GAAG,CAACI,MAAD,CAAH,IAAaJ,GAAG,CAACC,OAAD,CAAhB,GAA0BN,QAA1B,GAAqCD,UAAxD;MACAM,GAAG,CAACJ,OAAD,CAAH,GAAe,CAACI,GAAG,CAACI,MAAD,CAAJ,EAAYJ,GAAG,CAACC,OAAD,CAAf,EAAwBD,GAAG,CAACE,IAAD,CAA3B,EAAmCF,GAAG,CAACG,GAAD,CAAtC,CAAf;IACD;;IACD,OAAOH,GAAP;EACD,CAPS,CAAV;AAQD","names":["isArray","map","TREND_FIELD","TREND_DOWN","TREND_UP","Y_FIELD","getStockData","data","yField","obj","close_1","high","low","open_1"],"sourceRoot":"","sources":["../../../src/plots/stock/utils.ts"],"sourcesContent":["import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc 股票图数据处理\n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n"]},"metadata":{},"sourceType":"module"}