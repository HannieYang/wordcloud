{"ast":null,"code":"import { ext } from '@antv/matrix-util';\n/**\n * @ignore\n * 沿着 x 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\n\nexport function scaleInX(shape, animateCfg, cfg) {\n  var box = shape.getBBox();\n  var mappingData = shape.get('origin').mappingData;\n  var points = mappingData.points; // x 数值如果为负值，那么应该从右往左生长\n\n  var x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  var y = (box.minY + box.maxY) / 2;\n  shape.applyToMatrix([x, y, 1]);\n  var matrix = ext.transform(shape.getMatrix(), [['t', -x, -y], ['s', 0.01, 1], ['t', x, y]]);\n  shape.setMatrix(matrix);\n  shape.animate({\n    matrix: ext.transform(shape.getMatrix(), [['t', -x, -y], ['s', 100, 1], ['t', x, y]])\n  }, animateCfg);\n}\n/**\n * @ignore\n * 沿着 y 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\n\nexport function scaleInY(shape, animateCfg, cfg) {\n  var box = shape.getBBox();\n  var mappingData = shape.get('origin').mappingData;\n  var x = (box.minX + box.maxX) / 2;\n  var points = mappingData.points; // 数值如果为负值，那么应该从上往下生长，通过 shape 的关键点进行判断\n\n  var y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n  shape.applyToMatrix([x, y, 1]);\n  var matrix = ext.transform(shape.getMatrix(), [['t', -x, -y], ['s', 1, 0.01], ['t', x, y]]);\n  shape.setMatrix(matrix);\n  shape.animate({\n    matrix: ext.transform(shape.getMatrix(), [['t', -x, -y], ['s', 1, 100], ['t', x, y]])\n  }, animateCfg);\n}","map":{"version":3,"mappings":"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","names":["ext","scaleInX","shape","animateCfg","cfg","box","getBBox","get","mappingData","points","x","y","maxX","minX","minY","maxY","applyToMatrix","matrix","transform","getMatrix","setMatrix","animate","scaleInY"],"sourceRoot":"","sources":["../../../src/animate/animation/scale-in.ts"],"sourcesContent":["import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * 沿着 x 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x 数值如果为负值，那么应该从右往左生长\n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n * 沿着 y 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  // 数值如果为负值，那么应该从上往下生长，通过 shape 的关键点进行判断\n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n"]},"metadata":{},"sourceType":"module"}